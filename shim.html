<!DOCTYPE html>
<!-- saved from url=(0132)blob:https://14dm4c0j8h1gzaq4dxobwjym7unjdj06lepq140gb82pmjejwl-h842232647.scf.usercontent.goog/f07b2108-71b4-4537-8ef9-87c872fd06fd -->
<html lang="fr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6ImQ4ZWQ3YTU3YzkyMTgwYzk0YjI2MzE3ZjMzYjY5MWE4MWRlNzYzNTEiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIxMzEwNDQ2MDA2MDI4MjgyODEwNSIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjX2I4MDgyYjA0MTBmNTc2ZmZfaW5kZXguaHRtbC0zODUifSwiZXhwIjoxNzY1ODE1MjgzLCJpYXQiOjE3NjU4MTE2ODMsImFsZyI6IlJTMjU2In0.P6v0S51Dueu6gCYRHYa5714QQZkg2_ZzfutefBXKW8RFCvaxrMzq9bIwZRDckuoIQ8lJ3Nj0MRb1_32idoFpfy9Tctq9lPeYJZr0oGeJQqdgzBTpuFPD5jhOPT8KzzUJZQDf1qDkRu-hhbkfOZNyfmrPZAGO5MN6LJU65cHI9PtBh_ZFXncX-cYZ02X7RUfSQizDT3eB9Jnl5RYK_g0csMWF9AVzCdIIe4ZuOP7IE9wpzrEisUsDz1dVcR4yv4J8TkZ_qlX6x1Tw91ttkRhwrju8MUsNKbrS28zEJJSxJI6Xw8l3Ft2uwvYTt-Rqp-_aRZZYTr3QVJKyxBUFPw8F6Q","c_b8082b0410f576ff_index.html-385")</script><script>'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Da){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function ya(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const za=["gemini.google.com","corp.google.com","proxy.googlers.com"];function Y(){return document.body.querySelectorAll('[class*="animate"]').length>0}function Z(a){return t(function*(){try{return yield ya(a,{h:a.offsetWidth,g:a.offsetHeight})}catch(d){var b=a.offsetHeight;const c=document.createElement("canvas");c.width=a.offsetWidth;c.height=b;return c.toDataURL("image/png")}})}
function Aa(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Ba(a){return t(function*(){let b=document.body;if(Y()){var d=yield Aa();b=d;document.body.appendChild(d)}d=yield Z(b);Y()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}function Ca(a){return t(function*(){const b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Z(document.body),topOffset:0};window.parent.postMessage(b,a.origin)})}
window.addEventListener("message",a=>t(function*(){if(za.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Ba(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ca(a)))}}));
</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageTransformModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });
  modelInformation.deprecatedImageModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predict',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predictLongRunning',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash-preview-09-2025","imageModelName":"imagen-4.0-generate-001","imageEditModelName":"gemini-2.5-flash-image-preview","imageTransformModelName":"gemini-3-pro-image-preview-11-2025","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17","gemini-2.5-flash-preview-05-20"],"deprecatedImageModelNames":["imagen-3.0-generate-001","imagen-3.0-generate-002"]})</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChronoPolaroid - Export Web</title>
    <!-- Chargement de Tailwind CSS pour le style -->
    <script src="https://cdn.tailwindcss.com/"></script>
    <!-- Chargement des bibliothèques React et Babel -->
    <script crossorigin="anonymous" src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
    <!-- Déclaration de la police pour l'effet manuscrit -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap');
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.pointer-events-none{pointer-events:none}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0px}.-top-2{top:-0.5rem}.bottom-6{bottom:1.5rem}.left-0{left:0px}.top-0{top:0px}.z-10{z-index:10}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mt-2{margin-top:0.5rem}.mt-8{margin-top:2rem}.block{display:block}.flex{display:flex}.hidden{display:none}.aspect-square{aspect-ratio:1 / 1}.h-16{height:4rem}.h-2{height:0.5rem}.h-8{height:2rem}.h-full{height:100%}.min-h-\[400px\]{min-height:400px}.min-h-\[450px\]{min-height:450px}.min-h-screen{min-height:100vh}.w-16{width:4rem}.w-8{width:2rem}.w-\[320px\]{width:320px}.w-full{width:100%}.max-w-5xl{max-width:64rem}.max-w-md{max-width:28rem}.-translate-x-1\/2{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-0{--tw-rotate:0deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.appearance-none{-webkit-appearance:none;appearance:none}.flex-col{flex-direction:column}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-8{gap:2rem}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.rounded{border-radius:0.25rem}.rounded-2xl{border-radius:1rem}.rounded-lg{border-radius:0.5rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-neutral-100{--tw-border-opacity:1;border-color:rgb(245 245 245 / var(--tw-border-opacity, 1))}.border-neutral-600{--tw-border-opacity:1;border-color:rgb(82 82 82 / var(--tw-border-opacity, 1))}.border-neutral-700{--tw-border-opacity:1;border-color:rgb(64 64 64 / var(--tw-border-opacity, 1))}.border-white\/5{border-color:rgb(255 255 255 / 0.05)}.bg-black\/30{background-color:rgb(0 0 0 / 0.3)}.bg-neutral-100{--tw-bg-opacity:1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.bg-neutral-200{--tw-bg-opacity:1;background-color:rgb(229 229 229 / var(--tw-bg-opacity, 1))}.bg-neutral-700{--tw-bg-opacity:1;background-color:rgb(64 64 64 / var(--tw-bg-opacity, 1))}.bg-neutral-800\/50{background-color:rgb(38 38 38 / 0.5)}.bg-neutral-900{--tw-bg-opacity:1;background-color:rgb(23 23 23 / var(--tw-bg-opacity, 1))}.bg-rose-500{--tw-bg-opacity:1;background-color:rgb(244 63 94 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-\[radial-gradient\(circle_at_center\2c _var\(--tw-gradient-stops\)\)\]{background-image:radial-gradient(circle at center, var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-rose-400{--tw-gradient-from:#fb7185 var(--tw-gradient-from-position);--tw-gradient-to:rgb(251 113 133 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-rose-900{--tw-gradient-from:#881337 var(--tw-gradient-from-position);--tw-gradient-to:rgb(136 19 55 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.via-neutral-900{--tw-gradient-to:rgb(23 23 23 / 0)  var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), #171717 var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-black{--tw-gradient-to:#000 var(--tw-gradient-to-position)}.to-orange-300{--tw-gradient-to:#fdba74 var(--tw-gradient-to-position)}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.p-2{padding:0.5rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-4{padding-top:1rem;padding-bottom:1rem}.pb-16{padding-bottom:4rem}.pt-6{padding-top:1.5rem}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}.font-sans{font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.tracking-wider{letter-spacing:0.05em}.tracking-widest{letter-spacing:0.1em}.text-neutral-300{--tw-text-opacity:1;color:rgb(212 212 212 / var(--tw-text-opacity, 1))}.text-neutral-400{--tw-text-opacity:1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.text-neutral-500{--tw-text-opacity:1;color:rgb(115 115 115 / var(--tw-text-opacity, 1))}.text-neutral-800{--tw-text-opacity:1;color:rgb(38 38 38 / var(--tw-text-opacity, 1))}.text-neutral-900{--tw-text-opacity:1;color:rgb(23 23 23 / var(--tw-text-opacity, 1))}.text-rose-400{--tw-text-opacity:1;color:rgb(251 113 133 / var(--tw-text-opacity, 1))}.text-transparent{color:transparent}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity:1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.accent-rose-500{accent-color:#f43f5e}.opacity-10{opacity:0.1}.opacity-20{opacity:0.2}.opacity-50{opacity:0.5}.mix-blend-multiply{mix-blend-mode:multiply}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-white\/5{--tw-shadow-color:rgb(255 255 255 / 0.05);--tw-shadow:var(--tw-shadow-colored)}.backdrop-blur-md{--tw-backdrop-blur:blur(12px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.duration-500{transition-duration:500ms}.duration-75{transition-duration:75ms}.ease-in-out{transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.selection\:bg-rose-500 *::selection{--tw-bg-opacity:1;background-color:rgb(244 63 94 / var(--tw-bg-opacity, 1))}.selection\:text-white *::selection{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.selection\:bg-rose-500::selection{--tw-bg-opacity:1;background-color:rgb(244 63 94 / var(--tw-bg-opacity, 1))}.selection\:text-white::selection{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.hover\:bg-neutral-100:hover{--tw-bg-opacity:1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.hover\:bg-white:hover{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.hover\:accent-rose-400:hover{accent-color:#fb7185}.focus\:border-rose-500:focus{--tw-border-opacity:1;border-color:rgb(244 63 94 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-rose-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(244 63 94 / var(--tw-ring-opacity, 1))}.focus\:ring-rose-500\/50:focus{--tw-ring-color:rgb(244 63 94 / 0.5)}.group:hover .group-hover\:-translate-y-1{--tw-translate-y:-0.25rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@media (min-width: 768px){.md\:bottom-8{bottom:2rem}.md\:w-\[400px\]{width:400px}.md\:p-6{padding:1.5rem}.md\:pb-24{padding-bottom:6rem}.md\:text-5xl{font-size:3rem;line-height:1}.md\:text-base{font-size:1rem;line-height:1.5rem}}@media (min-width: 1024px){.lg\:flex-row{flex-direction:row}}</style><script>"use strict";

function _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = "function" == typeof Symbol ? Symbol : {}, n = r.iterator || "@@iterator", o = r.toStringTag || "@@toStringTag"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, "_invoke", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError("Generator is already running"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = "next"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError("iterator result is not an object"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i["return"]) && t.call(i), c < 2 && (u = TypeError("The iterator does not provide a '" + o + "' method"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, "GeneratorFunction")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, "constructor", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = "GeneratorFunction", _regeneratorDefine2(GeneratorFunctionPrototype, o, "GeneratorFunction"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, "Generator"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, "toString", function () { return "[object Generator]"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }
function _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, "", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); } r ? i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n : (o("next", 0), o("throw", 1), o("return", 2)); }, _regeneratorDefine2(e, r, n, t); }
function asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }
function _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
// Définition manuelle des icônes Lucide pour éviter les problèmes d'importation dans l'environnement Babel CDN
var Upload = function Upload(props) {
  return /*#__PURE__*/React.createElement("svg", _extends({}, props, {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "17 8 12 3 7 8"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "12",
    y1: "3",
    x2: "12",
    y2: "15"
  }));
};
var RefreshCw = function RefreshCw(props) {
  return /*#__PURE__*/React.createElement("svg", _extends({}, props, {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M21 2v6h-6"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M3 12a9 9 0 0 1 15-6.8l-1.3-1.3"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M3 22v-6h6"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M21 12a9 9 0 0 1-15 6.8l1.3 1.3"
  }));
};
var Camera = function Camera(props) {
  return /*#__PURE__*/React.createElement("svg", _extends({}, props, {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M14.5 4h-4L9 2H5C3.9 2 3 2.9 3 4v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2h-4.5z"
  }), /*#__PURE__*/React.createElement("circle", {
    cx: "12",
    cy: "13",
    r: "3"
  }));
};
var History = function History(props) {
  return /*#__PURE__*/React.createElement("svg", _extends({}, props, {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M12 2v6h6"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M21.5 13a9 9 0 1 1-2.4-6.8l-1.3 1.3"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M12 3v6h6"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M21.5 13a9 9 0 1 1-2.4-6.8l-1.3 1.3"
  }));
};
var Sparkles = function Sparkles(props) {
  return /*#__PURE__*/React.createElement("svg", _extends({}, props, {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M10 5l2 2 2-2M10 19l2-2 2 2M3 12h3M18 12h3M12 3v3M12 18v3M12 9l-3 3 3 3 3-3z"
  }));
};
var Download = function Download(props) {
  return /*#__PURE__*/React.createElement("svg", _extends({}, props, {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "7 10 12 15 17 10"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "12",
    y1: "15",
    x2: "12",
    y2: "3"
  }));
};
var Wand2 = function Wand2(props) {
  return /*#__PURE__*/React.createElement("svg", _extends({}, props, {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M13 14l5-5 5 5-5 5z"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M2 22l7-7"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M10 6l-4 4"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M18 11l-4 4"
  }));
};
var Film = function Film(props) {
  return /*#__PURE__*/React.createElement("svg", _extends({}, props, {
    xmlns: "http://www.w3.org/2000/svg",
    width: "24",
    height: "24",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round"
  }), /*#__PURE__*/React.createElement("rect", {
    x: "2",
    y: "2",
    width: "20",
    height: "20",
    rx: "2.18",
    ry: "2.18"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "7",
    y1: "2",
    x2: "7",
    y2: "22"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "17",
    y1: "2",
    x2: "17",
    y2: "22"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "2",
    y1: "12",
    x2: "22",
    y2: "12"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "2",
    y1: "7",
    x2: "22",
    y2: "7"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "2",
    y1: "17",
    x2: "22",
    y2: "17"
  }));
};
var _React = React,
  useState = _React.useState,
  useRef = _React.useRef,
  useEffect = _React.useEffect,
  useCallback = _React.useCallback;
function App() {
  var _useState = useState(2025),
    _useState2 = _slicedToArray(_useState, 2),
    year = _useState2[0],
    setYear = _useState2[1];
  var _useState3 = useState(2025),
    _useState4 = _slicedToArray(_useState3, 2),
    targetYear = _useState4[0],
    setTargetYear = _useState4[1];
  var _useState5 = useState(null),
    _useState6 = _slicedToArray(_useState5, 2),
    originalImageBase64 = _useState6[0],
    setOriginalImageBase64 = _useState6[1];
  var _useState7 = useState(null),
    _useState8 = _slicedToArray(_useState7, 2),
    displayImageURL = _useState8[0],
    setDisplayImageURL = _useState8[1];
  var _useState9 = useState(false),
    _useState0 = _slicedToArray(_useState9, 2),
    isDragging = _useState0[0],
    setIsDragging = _useState0[1];
  var _useState1 = useState({}),
    _useState10 = _slicedToArray(_useState1, 2),
    filters = _useState10[0],
    setFilters = _useState10[1];
  var _useState11 = useState(false),
    _useState12 = _slicedToArray(_useState11, 2),
    isDeveloping = _useState12[0],
    setIsDeveloping = _useState12[1];
  var _useState13 = useState(null),
    _useState14 = _slicedToArray(_useState13, 2),
    errorMessage = _useState14[0],
    setErrorMessage = _useState14[1];
  var _useState15 = useState(''),
    _useState16 = _slicedToArray(_useState15, 2),
    customPrompt = _useState16[0],
    setCustomPrompt = _useState16[1];
  var _useState17 = useState(''),
    _useState18 = _slicedToArray(_useState17, 2),
    editableEraPrompt = _useState18[0],
    setEditableEraPrompt = _useState18[1];
  var _useState19 = useState(false),
    _useState20 = _slicedToArray(_useState19, 2),
    showAnimationModal = _useState20[0],
    setShowAnimationModal = _useState20[1];
  var _useState21 = useState(''),
    _useState22 = _slicedToArray(_useState21, 2),
    videoPrompt = _useState22[0],
    setVideoPrompt = _useState22[1];
  var _useState23 = useState(''),
    _useState24 = _slicedToArray(_useState23, 2),
    generatedCaption = _useState24[0],
    setGeneratedCaption = _useState24[1];
  var fileInputRef = useRef(null);

  // Fonction pour définir le thème précis de l'époque par blocs de 5 ans
  var getEraDetails = useCallback(function (currentYear) {
    var eraMap = {
      1900: {
        name: "Belle Époque / Édouardien",
        description: "Ambiance formelle, corsets, costumes trois-pièces, chapeaux élaborés, début de l'automobile. Ambiance photo: sépia, grain."
      },
      1905: {
        name: "Transition Art Nouveau",
        description: "Lignes fluides, robes moins structurées, coiffures volumineuses, teintes douces, ambiance romantique."
      },
      1910: {
        name: "Pré-Guerre",
        description: "Tenues pratiques, uniformes militaires discrets, mode plus simple, coiffures relevées, début des couleurs pâles."
      },
      1915: {
        name: "Guerre Mondiale",
        description: "Vêtements utilitaires, silhouettes sévères, absence de faste, ambiance sombre et austère. Photo en noir et blanc."
      },
      1920: {
        name: "Années Folles (Flapper)",
        description: "Robes courtes, taille basse, coiffures au carré (bob), ambiance festive, jazz, art déco. Vêtements: style Flapper."
      },
      1925: {
        name: "Art Déco Rayonnant",
        description: "Couleurs riches (or, noir), géométrie, élégance sophistiquée, influence de l'Égypte, robes perlées."
      },
      1930: {
        name: "La Grande Dépression",
        description: "Lignes longues et fluides, épaules carrées, vêtements plus modestes, ambiance sérieuse et classique."
      },
      1935: {
        name: "Âge d'Or Hollywood",
        description: "Glamour, fourrures, robes de soirée scintillantes, coiffures ondulées, ambiance luxueuse et théâtrale."
      },
      1940: {
        name: "WWII Austérité",
        description: "Vêtements rationnés, jupes plissées courtes, tailleurs stricts, coiffures enroulées, ambiance militaire."
      },
      1945: {
        name: "Libération / Post-Guerre",
        description: "Retour aux couleurs, mode européenne, jupes plus longues, coiffures naturelles, optimisme prudent."
      },
      1950: {
        name: "New Look et Pin-up",
        description: "Taille marquée, jupes volumineuses, pantalons cigarette, rock'n'roll, couleurs pastel. Ambiance familiale, télévision."
      },
      1955: {
        name: "Prêt-à-porter",
        description: "Look plus casual, blousons en cuir, jeans, lunettes de soleil, influence adolescente, ambiance dynamique."
      },
      1960: {
        name: "Swinging London",
        description: "Mini-jupe, couleurs pop (fuchsia, orange), coupes géométriques, ambiance futuriste et jeune. Photo en couleur saturée."
      },
      1965: {
        name: "Pop Culture / Hippie",
        description: "Transition vers les imprimés psychédéliques, robes trapèze, bottes hautes, lunettes rondes, esprit libre."
      },
      1970: {
        name: "Flower Power / Boho",
        description: "Pattes d'eph, chemises à fleurs, tissus naturels, cheveux longs, ambiance bohème et décontractée."
      },
      1975: {
        name: "Disco et Glam Rock",
        description: "Paillettes, satin, combinaisons, talons plateforme, coupes afro, ambiance nuit et clubbing."
      },
      1980: {
        name: "Puissance 80s",
        description: "Épaules rembourrées, couleurs fluo, lycra, coiffures volumineuses, ambiance fitness et business."
      },
      1985: {
        name: "New Wave et Rock",
        description: "Jeans déchirés, vestes en cuir, coiffures asymétriques, ambiance rebelle et underground."
      },
      1990: {
        name: "Grunge et Minimalisme",
        description: "Chemises à carreaux, Doc Martens, silhouettes amples, couleurs neutres/sombres, ambiance anti-mode. Photo avec grain."
      },
      1995: {
        name: "Pop Culture 90s / R&B",
        description: "Crop tops, jeans taille haute, survêtements, ambiance MTV, couleurs vives, minimalisme chic."
      },
      2000: {
        name: "Y2K et Numérique",
        description: "Jeans taille basse, hauts courts, couleurs métalliques, chaussures massives, ambiance futuriste/numérique."
      },
      2005: {
        name: "Post-Grunge / Emo",
        description: "Cheveux lissés, jeans slim, t-shirts graphiques, ambiance sombre et mélancolique. Photo en faible contraste."
      },
      2010: {
        name: "Hipster et Rétro",
        description: "Barbes, lunettes rétro, vêtements d'occasion, look décontracté-effort, ambiance artisanale."
      },
      2015: {
        name: "Athleisure et Tech",
        description: "Vêtements de sport, minimalisme, couleurs sourdes, appareils technologiques visibles, ambiance urbaine."
      },
      2020: {
        name: "Confort et Pastel",
        description: "Vêtements de confort (sweats, joggings), couleurs pastel douces, coiffures naturelles, ambiance cocooning."
      },
      2025: {
        name: "Tendance Actuelle",
        description: "Mode rapide (Fast Fashion), styles variés (Quiet Luxury, Vintage 90s), influence des réseaux, ambiance HD."
      }
    };

    // Calcule le début du bloc de 5 ans (ex: 1968 -> 1965)
    var startYear = Math.floor(currentYear / 5) * 5;

    // Assure les limites
    if (startYear < 1900) startYear = 1900;
    if (currentYear >= 2025) startYear = 2025;

    // Récupère les détails de l'époque. 
    var details = eraMap[startYear] || eraMap[2025];

    // Combine le nom et la description pour le prompt de l'IA (UTILISÉ pour l'initialisation)
    details.fullDescription = "".concat(details.name, ". ").concat(details.description);
    return details;
  }, []);

  // Met à jour le prompt éditable lorsque l'année cible change
  useEffect(function () {
    var eraDetails = getEraDetails(targetYear);
    setEditableEraPrompt(eraDetails.description);
  }, [targetYear, getEraDetails]);

  // Logique de génération des filtres CSS selon l'année APPLIQUÉE (year)
  useEffect(function () {
    var calculateFilters = function calculateFilters(currentYear) {
      var style = {
        filter: '',
        overlayColor: 'transparent',
        overlayOpacity: 0,
        noiseOpacity: 0,
        vignette: 0
      };
      if (currentYear <= 1920) {
        style.filter = "sepia(0.8) grayscale(1) contrast(1.2) brightness(0.9) blur(0.5px)";
        style.noiseOpacity = 0.5;
        style.vignette = 0.6;
        style.overlayColor = '#5a4030';
        style.overlayOpacity = 0.2;
      } else if (currentYear <= 1950) {
        var progress = (currentYear - 1920) / 30;
        style.filter = "grayscale(1) contrast(1.3) brightness(1.1) sepia(".concat(0.3 - progress * 0.3, ")");
        style.noiseOpacity = 0.3;
        style.vignette = 0.4;
      } else if (currentYear <= 1975) {
        var _progress = (currentYear - 1950) / 25;
        style.filter = "saturate(".concat(1 + _progress * 0.8, ") sepia(0.2) contrast(1.1) hue-rotate(-10deg)");
        style.overlayColor = '#ffd700';
        style.overlayOpacity = 0.15;
        style.noiseOpacity = 0.2;
        style.vignette = 0.3;
      } else if (currentYear <= 1995) {
        style.filter = "saturate(0.9) contrast(1.15) brightness(1.05)";
        style.overlayColor = '#800080';
        style.overlayOpacity = 0.05;
        style.noiseOpacity = 0.15;
      } else if (currentYear <= 2010) {
        style.filter = "saturate(1.1) contrast(1.05)";
        style.noiseOpacity = 0.05;
      } else {
        style.filter = "none";
        style.noiseOpacity = 0;
      }
      setFilters(style);
    };
    calculateFilters(year);
  }, [year]);

  // Convertit Data URL en Base64 (pour l'API)
  var dataURLtoBase64 = function dataURLtoBase64(dataURL) {
    return dataURL.split(',')[1];
  };

  // Fonction de téléchargement mise à jour pour inclure le cadre (via Canvas) et cadrage optimisé
  var handleDownload = function handleDownload() {
    if (!displayImageURL) {
      setErrorMessage("Veuillez charger ou générer une image avant de télécharger.");
      return;
    }
    var canvas = document.createElement('canvas');
    var FRAME_WIDTH = 800;
    var FRAME_HEIGHT = 1000;
    var IMAGE_SIZE = 700;
    var PADDING_X = (FRAME_WIDTH - IMAGE_SIZE) / 2;
    var PADDING_TOP = PADDING_X;
    canvas.width = FRAME_WIDTH;
    canvas.height = FRAME_HEIGHT;
    var ctx = canvas.getContext('2d');

    // --- 1. Dessiner le cadre Polaroid blanc (Fond) ---
    ctx.fillStyle = '#FFFFFF';
    ctx.fillRect(0, 0, FRAME_WIDTH, FRAME_HEIGHT);

    // --- 2. Charger et dessiner l'image ---
    var img = new Image();
    img.onload = function () {
      var cropSize;
      var sourceX = 0;
      var sourceY = 0;
      if (img.width > img.height) {
        // Paysage (plus large) : Recadrage des côtés (centré horizontalement)
        cropSize = img.height;
        sourceX = (img.width - img.height) / 2;
      } else {
        // Portrait (plus haut) ou Carré : Recadrage du bas (priorité au haut/visages)
        cropSize = img.width;
        sourceY = 0; // Commence en haut (le visage est conservé)
      }
      ctx.drawImage(img, sourceX, sourceY, cropSize, cropSize,
      // Rectangle source 
      PADDING_X, PADDING_TOP, IMAGE_SIZE, IMAGE_SIZE // Rectangle destination 
      );

      // --- 3. Dessiner le texte de l'année ---
      var textToDraw = year.toString();
      ctx.font = '70px "Indie Flower", cursive, sans-serif';
      ctx.fillStyle = '#333333';
      ctx.textAlign = 'center';
      ctx.fillText(textToDraw, FRAME_WIDTH / 2, FRAME_HEIGHT - 80);

      // --- 4. Déclencher le téléchargement ---
      canvas.toBlob(function (blob) {
        var url = URL.createObjectURL(blob);
        var a = document.createElement('a');
        a.href = url;
        a.download = "ChronoPolaroid_".concat(year, ".png");
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }, 'image/png');
    };
    img.onerror = function () {
      setErrorMessage("Erreur lors du chargement de l'image pour le téléchargement.");
    };
    img.src = displayImageURL;
  };

  // Logique de base pour l'appel à l'API de génération d'images (gemini-2.5-flash-image-preview)
  var callImageGenerationAPI = /*#__PURE__*/function () {
    var _ref = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(inputBase64, prompt) {
      var apiKey, apiUrl, payload, MAX_RETRIES, base64Data, attempt, _result$candidates, response, result, _t;
      return _regenerator().w(function (_context) {
        while (1) switch (_context.p = _context.n) {
          case 0:
            setErrorMessage(null);
            apiKey = "";
            apiUrl = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image-preview:generateContent?key=".concat(apiKey);
            payload = {
              contents: [{
                role: "user",
                parts: [{
                  text: prompt
                }, {
                  inlineData: {
                    mimeType: "image/png",
                    data: inputBase64
                  }
                }]
              }],
              generationConfig: {
                responseModalities: ['IMAGE']
              }
            };
            MAX_RETRIES = 3;
            base64Data = null;
            attempt = 0;
          case 1:
            if (!(attempt < MAX_RETRIES)) {
              _context.n = 10;
              break;
            }
            _context.p = 2;
            _context.n = 3;
            return fetch(apiUrl, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(payload)
            });
          case 3:
            response = _context.v;
            if (response.ok) {
              _context.n = 4;
              break;
            }
            throw new Error("HTTP status: ".concat(response.status));
          case 4:
            _context.n = 5;
            return response.json();
          case 5:
            result = _context.v;
            base64Data = result === null || result === void 0 || (_result$candidates = result.candidates) === null || _result$candidates === void 0 || (_result$candidates = _result$candidates[0]) === null || _result$candidates === void 0 || (_result$candidates = _result$candidates.content) === null || _result$candidates === void 0 || (_result$candidates = _result$candidates.parts) === null || _result$candidates === void 0 || (_result$candidates = _result$candidates.find(function (p) {
              return p.inlineData;
            })) === null || _result$candidates === void 0 || (_result$candidates = _result$candidates.inlineData) === null || _result$candidates === void 0 ? void 0 : _result$candidates.data;
            if (!base64Data) {
              _context.n = 6;
              break;
            }
            return _context.a(2, "data:image/png;base64,".concat(base64Data));
          case 6:
            throw new Error("No image data returned from API.");
          case 7:
            _context.n = 9;
            break;
          case 8:
            _context.p = 8;
            _t = _context.v;
            console.error("Attempt ".concat(attempt + 1, " failed:"), _t);
            attempt++;
            if (!(attempt < MAX_RETRIES)) {
              _context.n = 9;
              break;
            }
            _context.n = 9;
            return new Promise(function (resolve) {
              return setTimeout(resolve, Math.pow(2, attempt) * 1000);
            });
          case 9:
            _context.n = 1;
            break;
          case 10:
            return _context.a(2, null);
        }
      }, _callee, null, [[2, 8]]);
    }));
    return function callImageGenerationAPI(_x, _x2) {
      return _ref.apply(this, arguments);
    };
  }();

  // Logique pour l'appel à l'API de génération de texte (gemini-2.5-flash-preview-09-2025)
  var callLLMTextAPI = /*#__PURE__*/function () {
    var _ref2 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee2(userQuery, systemPrompt) {
      var apiKey, apiUrl, payload, MAX_RETRIES, attempt, _result$candidates2, response, result, text, _t2;
      return _regenerator().w(function (_context2) {
        while (1) switch (_context2.p = _context2.n) {
          case 0:
            setErrorMessage(null);
            apiKey = "";
            apiUrl = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=".concat(apiKey);
            payload = {
              contents: [{
                parts: [{
                  text: userQuery
                }]
              }],
              systemInstruction: {
                parts: [{
                  text: systemPrompt
                }]
              }
            };
            MAX_RETRIES = 3;
            attempt = 0;
          case 1:
            if (!(attempt < MAX_RETRIES)) {
              _context2.n = 10;
              break;
            }
            _context2.p = 2;
            _context2.n = 3;
            return fetch(apiUrl, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(payload)
            });
          case 3:
            response = _context2.v;
            if (response.ok) {
              _context2.n = 4;
              break;
            }
            throw new Error("HTTP status: ".concat(response.status));
          case 4:
            _context2.n = 5;
            return response.json();
          case 5:
            result = _context2.v;
            text = result === null || result === void 0 || (_result$candidates2 = result.candidates) === null || _result$candidates2 === void 0 || (_result$candidates2 = _result$candidates2[0]) === null || _result$candidates2 === void 0 || (_result$candidates2 = _result$candidates2.content) === null || _result$candidates2 === void 0 || (_result$candidates2 = _result$candidates2.parts) === null || _result$candidates2 === void 0 || (_result$candidates2 = _result$candidates2[0]) === null || _result$candidates2 === void 0 ? void 0 : _result$candidates2.text;
            if (!text) {
              _context2.n = 6;
              break;
            }
            return _context2.a(2, text.trim());
          case 6:
            throw new Error("No text data returned from LLM.");
          case 7:
            _context2.n = 9;
            break;
          case 8:
            _context2.p = 8;
            _t2 = _context2.v;
            console.error("Attempt ".concat(attempt + 1, " failed:"), _t2);
            attempt++;
            if (!(attempt < MAX_RETRIES)) {
              _context2.n = 9;
              break;
            }
            _context2.n = 9;
            return new Promise(function (resolve) {
              return setTimeout(resolve, Math.pow(2, attempt) * 1000);
            });
          case 9:
            _context2.n = 1;
            break;
          case 10:
            return _context2.a(2, "Impossible de générer une légende pour le moment.");
        }
      }, _callee2, null, [[2, 8]]);
    }));
    return function callLLMTextAPI(_x3, _x4) {
      return _ref2.apply(this, arguments);
    };
  }();

  // Générer une légende d'époque (LLM Text Feature)
  var handleGenerateCaption = /*#__PURE__*/function () {
    var _ref3 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee3() {
      var systemPrompt, userQuery, caption;
      return _regenerator().w(function (_context3) {
        while (1) switch (_context3.n) {
          case 0:
            if (!(isDeveloping || !editableEraPrompt.trim())) {
              _context3.n = 1;
              break;
            }
            return _context3.a(2);
          case 1:
            setGeneratedCaption('Génération de la légende...');
            setIsDeveloping(true);
            systemPrompt = "Agis comme un auteur de r\xE9cits historique et romantique. Cr\xE9e une l\xE9gende courte et po\xE9tique pour une photo de l'ann\xE9e ".concat(targetYear, ", bas\xE9e sur le contexte d'\xE9poque fourni. Le texte doit \xEAtre \xE9vocateur et tenir en une ou deux phrases courtes maximum, sans mentionner le processus d'IA.");
            userQuery = "G\xE9n\xE8re une l\xE9gende pour une photo de l'ann\xE9e ".concat(targetYear, ", avec l'ambiance et les d\xE9tails suivants: ").concat(editableEraPrompt.trim(), ".");
            _context3.n = 2;
            return callLLMTextAPI(userQuery, systemPrompt);
          case 2:
            caption = _context3.v;
            setGeneratedCaption(caption);
            setIsDeveloping(false);
          case 3:
            return _context3.a(2);
        }
      }, _callee3);
    }));
    return function handleGenerateCaption() {
      return _ref3.apply(this, arguments);
    };
  }();

  // Voyage temporel / Regénération d'époque
  var handleApplyTimeTravel = /*#__PURE__*/function () {
    var _ref4 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee4() {
      var isRegenerate,
        userModifiedPrompt,
        transformationPrompt,
        newImageUrl,
        _args4 = arguments;
      return _regenerator().w(function (_context4) {
        while (1) switch (_context4.n) {
          case 0:
            isRegenerate = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : false;
            if (!(!originalImageBase64 || isDeveloping)) {
              _context4.n = 1;
              break;
            }
            return _context4.a(2);
          case 1:
            if (!(!isRegenerate && year === targetYear && displayImageURL && displayImageURL.includes(originalImageBase64))) {
              _context4.n = 2;
              break;
            }
            return _context4.a(2);
          case 2:
            if (editableEraPrompt.trim()) {
              _context4.n = 3;
              break;
            }
            setErrorMessage("Veuillez fournir une description de l'ambiance pour l'époque.");
            return _context4.a(2);
          case 3:
            setIsDeveloping(true);
            setGeneratedCaption(''); // Effacer la légende
            userModifiedPrompt = editableEraPrompt.trim();
            transformationPrompt = "Transformez l'habillement, la coiffure et l'ambiance g\xE9n\xE9rale de cette photo pour correspondre pr\xE9cis\xE9ment au style, \xE0 la mode et au d\xE9cor de l'ann\xE9e ".concat(targetYear, ". L'esth\xE9tique doit refl\xE9ter: ").concat(userModifiedPrompt, ". C'est crucial : Maintenez les traits et caract\xE9ristiques faciales des personnes de l'image originale. Assurez-vous que la nouvelle image soit de haute qualit\xE9.");
            _context4.n = 4;
            return callImageGenerationAPI(originalImageBase64, transformationPrompt);
          case 4:
            newImageUrl = _context4.v;
            if (newImageUrl) {
              setDisplayImageURL(newImageUrl);
              setYear(targetYear); // Appliquer l'année pour les filtres CSS
            } else {
              setErrorMessage("La génération d'image a échoué. Application des filtres CSS uniquement.");
              setYear(targetYear);
            }
            setTimeout(function () {
              setIsDeveloping(false);
            }, 600);
          case 5:
            return _context4.a(2);
        }
      }, _callee4);
    }));
    return function handleApplyTimeTravel() {
      return _ref4.apply(this, arguments);
    };
  }();

  // Modification par Prompt
  var handleApplyCustomPrompt = /*#__PURE__*/function () {
    var _ref5 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee5() {
      var prompt, currentBase64, fullPrompt, newImageUrl;
      return _regenerator().w(function (_context5) {
        while (1) switch (_context5.n) {
          case 0:
            prompt = customPrompt.trim();
            if (!(!displayImageURL || !prompt || isDeveloping)) {
              _context5.n = 1;
              break;
            }
            return _context5.a(2);
          case 1:
            setIsDeveloping(true);
            setGeneratedCaption(''); // Effacer la légende
            currentBase64 = dataURLtoBase64(displayImageURL);
            fullPrompt = "En vous basant sur cette image, appliquez la modification suivante : \"".concat(prompt, "\". C'est crucial : Maintenez les traits et caract\xE9ristiques faciales des personnes de l'image originale.");
            _context5.n = 2;
            return callImageGenerationAPI(currentBase64, fullPrompt);
          case 2:
            newImageUrl = _context5.v;
            if (newImageUrl) {
              setDisplayImageURL(newImageUrl);
            } else {
              setErrorMessage("La modification par prompt a échoué. Veuillez réessayer.");
            }
            setCustomPrompt('');
            setTimeout(function () {
              setIsDeveloping(false);
            }, 600);
          case 3:
            return _context5.a(2);
        }
      }, _callee5);
    }));
    return function handleApplyCustomPrompt() {
      return _ref5.apply(this, arguments);
    };
  }();

  // Logique pour la génération du plan cinématique (Image Vidéo Stylisée)
  var handleGenerateCinematicFrame = /*#__PURE__*/function () {
    var _ref6 = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee6() {
      var prompt, currentBase64, cinematicPrompt, newImageUrl;
      return _regenerator().w(function (_context6) {
        while (1) switch (_context6.n) {
          case 0:
            prompt = videoPrompt.trim();
            if (!(!displayImageURL || !prompt || isDeveloping)) {
              _context6.n = 1;
              break;
            }
            return _context6.a(2);
          case 1:
            setIsDeveloping(true);
            setShowAnimationModal(false);
            setGeneratedCaption(''); // Effacer la légende
            currentBase64 = dataURLtoBase64(displayImageURL); // Prompt mis à jour pour insister sur la qualité "vidéo" et l'ambiance
            cinematicPrompt = "En vous basant sur cette image, cr\xE9ez une image unique (un 'plan') de tr\xE8s haute qualit\xE9, avec des couleurs riches, une profondeur de champ faible (bokeh), et un \xE9clairage dramatique (cin\xE9matographique). Le plan doit capturer le mouvement et l'ambiance de cette s\xE9quence vid\xE9o : \"".concat(prompt, "\". Le sujet doit conserver ses traits faciaux originaux. Appliquez aussi le style et les filtres d'\xE9poque pour l'ann\xE9e ").concat(year, " sur le rendu final.");
            _context6.n = 2;
            return callImageGenerationAPI(currentBase64, cinematicPrompt);
          case 2:
            newImageUrl = _context6.v;
            if (newImageUrl) {
              setDisplayImageURL(newImageUrl);
            } else {
              setErrorMessage("La génération du plan cinématique a échoué. Veuillez vérifier le prompt.");
            }
            setVideoPrompt('');
            setTimeout(function () {
              setIsDeveloping(false);
            }, 600);
          case 3:
            return _context6.a(2);
        }
      }, _callee6);
    }));
    return function handleGenerateCinematicFrame() {
      return _ref6.apply(this, arguments);
    };
  }();
  var handleImageUpload = function handleImageUpload(e) {
    var _e$target$files;
    var file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];
    if (file) {
      var reader = new FileReader();
      reader.onload = function (e) {
        var dataUrl = e.target.result;
        setOriginalImageBase64(dataURLtoBase64(dataUrl));
        setDisplayImageURL(dataUrl);
        setYear(2025);
        setTargetYear(2025);
        setErrorMessage(null);
        setCustomPrompt('');
        setGeneratedCaption('');
        setEditableEraPrompt(getEraDetails(2025).description);
      };
      reader.readAsDataURL(file);
    }
  };
  var handleDrop = function handleDrop(e) {
    var _e$dataTransfer$files;
    e.preventDefault();
    setIsDragging(false);
    var file = (_e$dataTransfer$files = e.dataTransfer.files) === null || _e$dataTransfer$files === void 0 ? void 0 : _e$dataTransfer$files[0];
    if (file && file.type.startsWith('image/')) {
      var reader = new FileReader();
      reader.onload = function (e) {
        var dataUrl = e.target.result;
        setOriginalImageBase64(dataURLtoBase64(dataUrl));
        setDisplayImageURL(dataUrl);
        setYear(2025);
        setTargetYear(2025);
        setErrorMessage(null);
        setCustomPrompt('');
        setGeneratedCaption('');
        setEditableEraPrompt(getEraDetails(2025).description);
      };
      reader.readAsDataURL(file);
    }
  };

  // Retour à l'image originale
  var handleReturnToOriginal = function handleReturnToOriginal() {
    if (originalImageBase64) {
      var mimeType = originalImageBase64.startsWith('/9j/') ? 'image/jpeg' : 'image/png';
      setDisplayImageURL("data:".concat(mimeType, ";base64,").concat(originalImageBase64));
      setYear(2025);
      setTargetYear(2025);
      setErrorMessage(null);
      setCustomPrompt('');
      setGeneratedCaption('');
      setEditableEraPrompt(getEraDetails(2025).description);
    }
  };
  var resetApp = function resetApp() {
    setOriginalImageBase64(null);
    setDisplayImageURL(null);
    setYear(2025);
    setTargetYear(2025);
    setErrorMessage(null);
    setCustomPrompt('');
    setGeneratedCaption('');
    setEditableEraPrompt(getEraDetails(2025).description);
  };
  var currentDisplayURL = displayImageURL;
  var isTransformed = currentDisplayURL && (year !== 2025 || currentDisplayURL && originalImageBase64 && !currentDisplayURL.includes(originalImageBase64.substring(0, 100)));
  var eraDetails = getEraDetails(targetYear);
  return /*#__PURE__*/React.createElement("div", {
    className: "min-h-screen bg-neutral-900 text-white font-sans selection:bg-rose-500 selection:text-white flex flex-col items-center justify-center p-4 relative overflow-hidden"
  }, showAnimationModal && /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-neutral-800 p-6 rounded-xl shadow-2xl w-full max-w-md border border-rose-500/50"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-xl font-bold mb-4 text-rose-300 flex items-center gap-2"
  }, /*#__PURE__*/React.createElement(Film, {
    size: 20
  }), " G\xE9n\xE9rer un Plan Cin\xE9matique"), /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-neutral-400 mb-4"
  }, "D\xE9crivez l'action, l'\xE9clairage, ou le style de cam\xE9ra (zoom, panoramique) pour cr\xE9er une image unique qui simule cette s\xE9quence vid\xE9o."), /*#__PURE__*/React.createElement("textarea", {
    value: videoPrompt,
    onChange: function onChange(e) {
      return setVideoPrompt(e.target.value);
    },
    placeholder: "Ex: Plan large, le sujet marche dans la brume, lumi\xE8re naturelle douce...",
    rows: "4",
    className: "w-full p-3 bg-neutral-700 text-white rounded-lg border border-neutral-600 focus:ring-rose-500 focus:border-rose-500 transition-all text-sm resize-none"
  }), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-end gap-3 mt-4"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      setShowAnimationModal(false);
      setVideoPrompt('');
    },
    className: "py-2 px-4 bg-neutral-600 text-white rounded-lg hover:bg-neutral-500 transition-colors",
    disabled: isDeveloping
  }, "Annuler"), /*#__PURE__*/React.createElement("button", {
    onClick: handleGenerateCinematicFrame,
    disabled: !videoPrompt.trim() || isDeveloping,
    className: "py-2 px-4 bg-rose-600 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors disabled:opacity-50"
  }, "G\xE9n\xE9rer le Plan Cin\xE9matique")))), /*#__PURE__*/React.createElement("div", {
    className: "absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-rose-900 via-neutral-900 to-black"
  }), /*#__PURE__*/React.createElement("header", {
    className: "mb-8 text-center z-10"
  }, /*#__PURE__*/React.createElement("h1", {
    className: "text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 to-orange-300 flex items-center justify-center gap-3"
  }, /*#__PURE__*/React.createElement(History, {
    className: "w-8 h-8 text-rose-400"
  }), "Chrono", /*#__PURE__*/React.createElement("span", {
    className: "text-white"
  }, "Polaroid")), /*#__PURE__*/React.createElement("p", {
    className: "text-neutral-400 mt-2 text-sm md:text-base"
  }, "Voyagez et modifiez vos photos (1900 - 2025)")), errorMessage && /*#__PURE__*/React.createElement("div", {
    className: "bg-red-900/50 border border-red-500 text-red-200 p-3 rounded-lg mb-4 text-sm max-w-lg text-center"
  }, "Attention: ", errorMessage), /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col lg:flex-row gap-8 items-center justify-center w-full max-w-5xl z-10"
  }, /*#__PURE__*/React.createElement("div", {
    className: "relative group perspective-1000"
  }, /*#__PURE__*/React.createElement("div", {
    className: "\n                      relative bg-white shadow-2xl p-4 md:p-6 pb-16 md:pb-24 transform transition-transform duration-500 ease-in-out\n                      ".concat(currentDisplayURL ? 'rotate-1 hover:rotate-0 hover:scale-105' : 'rotate-0', "\n                      w-[320px] md:w-[400px] min-h-[450px] flex flex-col items-center justify-center\n                    "),
    style: {
      boxShadow: '0 20px 50px rgba(0,0,0,0.5)'
    }
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-neutral-100 opacity-20 pointer-events-none mix-blend-multiply"
  }), /*#__PURE__*/React.createElement("div", {
    className: "\n                        relative w-full aspect-square bg-neutral-200 overflow-hidden border border-neutral-100 shadow-inner\n                        ".concat(isDragging ? 'border-4 border-rose-500 border-dashed' : '', "\n                      "),
    onDragOver: function onDragOver(e) {
      e.preventDefault();
      setIsDragging(true);
    },
    onDragLeave: function onDragLeave() {
      return setIsDragging(false);
    },
    onDrop: handleDrop,
    onClick: function onClick() {
      var _fileInputRef$current;
      return !currentDisplayURL && ((_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click());
    }
  }, !currentDisplayURL ? /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 flex flex-col items-center justify-center text-neutral-400 cursor-pointer hover:bg-neutral-100 transition-colors"
  }, /*#__PURE__*/React.createElement(Camera, {
    className: "w-16 h-16 mb-4 opacity-50"
  }), /*#__PURE__*/React.createElement("p", {
    className: "text-center px-4 font-medium"
  }, "Cliquez ou glissez une photo ici")) : /*#__PURE__*/React.createElement(React.Fragment, null, isDeveloping && /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-white z-20 flex flex-col items-center justify-center text-neutral-800 transition-opacity duration-700 pointer-events-none"
  }, /*#__PURE__*/React.createElement(Sparkles, {
    size: 24,
    className: "w-12 h-12 text-rose-500 animate-spin"
  }), /*#__PURE__*/React.createElement("p", {
    className: "mt-4 font-semibold"
  }, "Voyage temporel en cours...")), /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-white z-20 transition-opacity duration-700 pointer-events-none ".concat(isDeveloping ? 'opacity-100' : 'opacity-0')
  }), /*#__PURE__*/React.createElement("img", {
    src: currentDisplayURL,
    alt: "Transformed content",
    className: "w-full h-full object-cover transition-all duration-700 ease-linear",
    style: {
      filter: filters.filter
    }
  }), /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 pointer-events-none mix-blend-overlay transition-opacity duration-500",
    style: {
      backgroundColor: filters.overlayColor,
      opacity: filters.overlayOpacity
    }
  }), /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 pointer-events-none mix-blend-multiply bg-[radial-gradient(circle,_transparent_50%,_black_150%)] transition-opacity duration-500",
    style: {
      opacity: filters.vignette
    }
  }), /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 pointer-events-none mix-blend-overlay",
    style: {
      opacity: filters.noiseOpacity
    }
  }, /*#__PURE__*/React.createElement("svg", {
    width: "100%",
    height: "100%",
    xmlns: "http://www.w3.org/2000/svg"
  }, /*#__PURE__*/React.createElement("filter", {
    id: "noiseFilter"
  }, /*#__PURE__*/React.createElement("feTurbulence", {
    type: "fractalNoise",
    baseFrequency: "0.6",
    stitchTiles: "stitch"
  })), /*#__PURE__*/React.createElement("rect", {
    width: "100%",
    height: "100%",
    filter: "url(#noiseFilter)"
  }))), year < 1920 && /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 pointer-events-none opacity-20 mix-blend-screen bg-[url('https://www.transparenttextures.com/patterns/scratched.png')]"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "absolute bottom-6 md:bottom-8 w-full text-center"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-3xl md:text-5xl text-neutral-800 transition-all duration-300 transform",
    style: {
      fontFamily: '"Indie Flower", cursive',
      transform: "rotate(".concat(Math.random() * 2 - 1, "deg)"),
      opacity: currentDisplayURL && !isDeveloping ? 0.9 : 0.2
    }
  }, year)), currentDisplayURL && /*#__PURE__*/React.createElement("button", {
    onClick: resetApp,
    className: "absolute -top-3 -right-3 bg-rose-500 text-white p-2 rounded-full shadow-lg hover:bg-rose-600 transition-transform hover:scale-110 z-30",
    title: "Tout effacer"
  }, /*#__PURE__*/React.createElement(RefreshCw, {
    size: 16
  })))), /*#__PURE__*/React.createElement("div", {
    className: "w-full max-w-md bg-neutral-800/50 backdrop-blur-md p-6 rounded-2xl border border-neutral-700 shadow-xl flex flex-col justify-between min-h-[400px]"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-end mb-6"
  }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("span", {
    className: "text-neutral-400 text-sm font-mono uppercase tracking-widest block mb-1"
  }, "Destination"), /*#__PURE__*/React.createElement("span", {
    className: "text-3xl text-rose-400 font-bold"
  }, targetYear)), /*#__PURE__*/React.createElement("div", {
    className: "text-right"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-neutral-500 text-xs uppercase tracking-wider block"
  }, "Actuel"), /*#__PURE__*/React.createElement("span", {
    className: "text-neutral-300 font-mono"
  }, year))), /*#__PURE__*/React.createElement("div", {
    className: "mb-8 relative pt-6"
  }, /*#__PURE__*/React.createElement("input", {
    type: "range",
    min: "1900",
    max: "2025",
    value: targetYear,
    onChange: function onChange(e) {
      return setTargetYear(parseInt(e.target.value));
    },
    className: "w-full h-2 bg-neutral-700 rounded-lg appearance-none cursor-pointer accent-rose-500 hover:accent-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-500/50"
  }), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between text-xs text-neutral-500 mt-2 font-mono"
  }, /*#__PURE__*/React.createElement("span", null, "1900"), /*#__PURE__*/React.createElement("span", null, "1960"), /*#__PURE__*/React.createElement("span", null, "2025")), /*#__PURE__*/React.createElement("div", {
    className: "absolute -top-2 px-2 py-1 bg-rose-500 text-white text-xs rounded transform -translate-x-1/2 pointer-events-none transition-all duration-75",
    style: {
      left: "".concat((targetYear - 1900) / 125 * 100, "%")
    }
  }, targetYear)), /*#__PURE__*/React.createElement("div", {
    className: "mt-2 p-4 bg-black/30 rounded-lg border border-white/5"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-sm font-semibold text-neutral-300 mb-2 flex items-center gap-2"
  }, /*#__PURE__*/React.createElement(Sparkles, {
    size: 14,
    className: "text-yellow-500"
  }), "Ambiance ", targetYear, " (", eraDetails.name, ") :"), /*#__PURE__*/React.createElement("textarea", {
    value: editableEraPrompt,
    onChange: function onChange(e) {
      return setEditableEraPrompt(e.target.value);
    },
    rows: "4",
    disabled: isDeveloping,
    className: "w-full p-2 bg-neutral-700 text-white rounded-lg border border-neutral-600 focus:ring-rose-500 focus:border-rose-500 transition-all text-sm resize-none",
    placeholder: "D\xE9crivez ici le style exact que l'IA doit appliquer..."
  }), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-neutral-500 mt-2"
  }, "\xC9ditez pour affiner le style de l'\xE9poque avant de g\xE9n\xE9rer."))), /*#__PURE__*/React.createElement("div", {
    className: "space-y-4 mt-8"
  }, /*#__PURE__*/React.createElement("input", {
    type: "file",
    ref: fileInputRef,
    onChange: handleImageUpload,
    accept: "image/*",
    className: "hidden"
  }), !originalImageBase64 ? /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      var _fileInputRef$current2;
      return (_fileInputRef$current2 = fileInputRef.current) === null || _fileInputRef$current2 === void 0 ? void 0 : _fileInputRef$current2.click();
    },
    className: "w-full py-4 bg-neutral-100 text-neutral-900 rounded-xl font-bold hover:bg-white transition-all flex items-center justify-center gap-2 group shadow-lg shadow-white/5"
  }, /*#__PURE__*/React.createElement(Upload, {
    size: 20,
    className: "group-hover:-translate-y-1 transition-transform"
  }), "Charger une photo") : /*#__PURE__*/React.createElement("div", {
    className: "space-y-3"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return handleApplyTimeTravel(false);
    } // Pas une regénération forcée
    ,
    disabled: year === targetYear || isDeveloping || !editableEraPrompt.trim(),
    className: "\n                                    w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-3 transition-all transform\n                                    ".concat((year === targetYear || !editableEraPrompt.trim()) && !isDeveloping ? 'bg-neutral-700 text-neutral-500 cursor-not-allowed opacity-50' : 'bg-gradient-to-r from-rose-500 to-orange-500 text-white shadow-lg shadow-rose-500/20 hover:scale-[1.02] hover:shadow-rose-500/40', "\n                                    ").concat(isDeveloping ? 'opacity-70 cursor-wait' : '', "\n                                ")
  }, isDeveloping ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Sparkles, {
    size: 20,
    className: "animate-spin"
  }), "Transformation...") : year === targetYear ? /*#__PURE__*/React.createElement("span", null, "D\xE9j\xE0 en ", year) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Sparkles, {
    size: 20
  }), "D\xE9velopper en ", targetYear)), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-3"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: handleDownload,
    disabled: !currentDisplayURL || isDeveloping,
    className: "flex-1 py-3 bg-neutral-700 text-neutral-300 rounded-xl font-medium hover:bg-neutral-600 transition-colors text-sm flex items-center justify-center gap-1 disabled:opacity-50"
  }, /*#__PURE__*/React.createElement(Download, {
    size: 16
  }), " T\xE9l\xE9charger"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return handleApplyTimeTravel(true);
    } // Regénération forcée
    ,
    disabled: !isTransformed || isDeveloping || !editableEraPrompt.trim(),
    className: "flex-1 py-3 bg-neutral-700 text-neutral-300 rounded-xl font-medium hover:bg-neutral-600 transition-colors text-sm flex items-center justify-center gap-1 disabled:opacity-50",
    title: "Cr\xE9er une nouvelle interpr\xE9tation de la photo pour l'ann\xE9e courante"
  }, /*#__PURE__*/React.createElement(Wand2, {
    size: 16
  }), " Reg\xE9n\xE9rer"), isTransformed && /*#__PURE__*/React.createElement("button", {
    onClick: handleReturnToOriginal,
    disabled: isDeveloping,
    className: "flex-1 py-3 bg-neutral-700 text-neutral-300 rounded-xl font-medium hover:bg-neutral-600 transition-colors text-sm flex items-center justify-center gap-1 disabled:opacity-50"
  }, /*#__PURE__*/React.createElement(History, {
    size: 16
  }), " Original"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      var _fileInputRef$current3;
      return (_fileInputRef$current3 = fileInputRef.current) === null || _fileInputRef$current3 === void 0 ? void 0 : _fileInputRef$current3.click();
    },
    disabled: isDeveloping,
    className: "\n                                        ".concat(!isTransformed ? 'flex-1' : 'w-auto px-4', "\n                                        py-3 bg-neutral-700 text-neutral-300 rounded-xl font-medium hover:bg-neutral-600 transition-colors text-sm disabled:opacity-50\n                                    ")
  }, /*#__PURE__*/React.createElement(Upload, {
    size: 16,
    className: "md:hidden"
  }), /*#__PURE__*/React.createElement("span", {
    className: "hidden md:inline"
  }, "Changer photo"))), /*#__PURE__*/React.createElement("button", {
    onClick: handleGenerateCaption,
    disabled: isDeveloping || !editableEraPrompt.trim() || !currentDisplayURL,
    className: "w-full py-3 bg-pink-700 text-white rounded-xl font-semibold hover:bg-pink-600 transition-colors flex items-center justify-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-pink-700/20 mt-4",
    title: "G\xE9n\xE9rer une l\xE9gende po\xE9tique bas\xE9e sur l'ann\xE9e et l'ambiance."
  }, /*#__PURE__*/React.createElement(Sparkles, {
    size: 16
  }), " G\xE9n\xE9rer une L\xE9gende d'\xC9poque"), generatedCaption && /*#__PURE__*/React.createElement("div", {
    className: "p-3 bg-neutral-700 rounded-lg border border-pink-500/50 text-xs text-neutral-300 italic whitespace-pre-wrap"
  }, generatedCaption), /*#__PURE__*/React.createElement("div", {
    className: "mt-6 pt-4 border-t border-neutral-700/50 space-y-2"
  }, /*#__PURE__*/React.createElement("label", {
    className: "text-neutral-400 text-xs uppercase tracking-wider block"
  }, "Modification Personnalis\xE9e (IA)"), /*#__PURE__*/React.createElement("textarea", {
    value: customPrompt,
    onChange: function onChange(e) {
      return setCustomPrompt(e.target.value);
    },
    placeholder: "Ex: Ajouter un chapeau rouge, transformer l'arri\xE8re-plan en plage...",
    rows: "2",
    disabled: isDeveloping || !currentDisplayURL,
    className: "w-full p-2 bg-neutral-700 text-white rounded-lg border border-neutral-600 focus:ring-rose-500 focus:border-rose-500 transition-all text-sm resize-none disabled:opacity-50"
  }), /*#__PURE__*/React.createElement("button", {
    onClick: handleApplyCustomPrompt,
    disabled: !customPrompt.trim() || isDeveloping || !currentDisplayURL,
    className: "w-full py-3 bg-neutral-600 text-white rounded-xl font-semibold hover:bg-neutral-500 transition-colors flex items-center justify-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-neutral-700/20"
  }, /*#__PURE__*/React.createElement(Sparkles, {
    size: 16
  }), " Appliquer le Prompt")), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setShowAnimationModal(true);
    },
    disabled: isDeveloping || !currentDisplayURL,
    className: "w-full py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-500 transition-colors flex items-center justify-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-purple-700/20 mt-4",
    title: "G\xE9n\xE9rer une image hautement cin\xE9matographique"
  }, /*#__PURE__*/React.createElement(Film, {
    size: 16
  }), " Animer la Photo (Plan Vid\xE9o)"))))));
}

// Montage de l'application React
ReactDOM.createRoot(document.getElementById('root')).render(/*#__PURE__*/React.createElement(App, null));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJlIiwidCIsInIiLCJTeW1ib2wiLCJuIiwiaXRlcmF0b3IiLCJvIiwidG9TdHJpbmdUYWciLCJpIiwiYyIsInByb3RvdHlwZSIsIkdlbmVyYXRvciIsInUiLCJPYmplY3QiLCJjcmVhdGUiLCJfcmVnZW5lcmF0b3JEZWZpbmUyIiwiZiIsInAiLCJ5IiwiRyIsInYiLCJhIiwiZCIsImJpbmQiLCJsZW5ndGgiLCJsIiwiVHlwZUVycm9yIiwiY2FsbCIsImRvbmUiLCJ2YWx1ZSIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZGlzcGxheU5hbWUiLCJfcmVnZW5lcmF0b3IiLCJ3IiwibSIsImRlZmluZVByb3BlcnR5IiwiX3JlZ2VuZXJhdG9yRGVmaW5lIiwiX2ludm9rZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfbmV4dCIsIl90aHJvdyIsIl9zbGljZWRUb0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiX25vbkl0ZXJhYmxlUmVzdCIsIl9hcnJheUxpa2VUb0FycmF5IiwidG9TdHJpbmciLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkFycmF5IiwiZnJvbSIsInRlc3QiLCJuZXh0IiwicHVzaCIsImlzQXJyYXkiLCJfZXh0ZW5kcyIsImFzc2lnbiIsImhhc093blByb3BlcnR5IiwiVXBsb2FkIiwicHJvcHMiLCJSZWFjdCIsImNyZWF0ZUVsZW1lbnQiLCJ4bWxucyIsIndpZHRoIiwiaGVpZ2h0Iiwidmlld0JveCIsImZpbGwiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInBvaW50cyIsIngxIiwieTEiLCJ4MiIsInkyIiwiUmVmcmVzaEN3IiwiQ2FtZXJhIiwiY3giLCJjeSIsIkhpc3RvcnkiLCJTcGFya2xlcyIsIkRvd25sb2FkIiwiV2FuZDIiLCJGaWxtIiwieCIsInJ4IiwicnkiLCJfUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiQXBwIiwiX3VzZVN0YXRlIiwiX3VzZVN0YXRlMiIsInllYXIiLCJzZXRZZWFyIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJ0YXJnZXRZZWFyIiwic2V0VGFyZ2V0WWVhciIsIl91c2VTdGF0ZTUiLCJfdXNlU3RhdGU2Iiwib3JpZ2luYWxJbWFnZUJhc2U2NCIsInNldE9yaWdpbmFsSW1hZ2VCYXNlNjQiLCJfdXNlU3RhdGU3IiwiX3VzZVN0YXRlOCIsImRpc3BsYXlJbWFnZVVSTCIsInNldERpc3BsYXlJbWFnZVVSTCIsIl91c2VTdGF0ZTkiLCJfdXNlU3RhdGUwIiwiaXNEcmFnZ2luZyIsInNldElzRHJhZ2dpbmciLCJfdXNlU3RhdGUxIiwiX3VzZVN0YXRlMTAiLCJmaWx0ZXJzIiwic2V0RmlsdGVycyIsIl91c2VTdGF0ZTExIiwiX3VzZVN0YXRlMTIiLCJpc0RldmVsb3BpbmciLCJzZXRJc0RldmVsb3BpbmciLCJfdXNlU3RhdGUxMyIsIl91c2VTdGF0ZTE0IiwiZXJyb3JNZXNzYWdlIiwic2V0RXJyb3JNZXNzYWdlIiwiX3VzZVN0YXRlMTUiLCJfdXNlU3RhdGUxNiIsImN1c3RvbVByb21wdCIsInNldEN1c3RvbVByb21wdCIsIl91c2VTdGF0ZTE3IiwiX3VzZVN0YXRlMTgiLCJlZGl0YWJsZUVyYVByb21wdCIsInNldEVkaXRhYmxlRXJhUHJvbXB0IiwiX3VzZVN0YXRlMTkiLCJfdXNlU3RhdGUyMCIsInNob3dBbmltYXRpb25Nb2RhbCIsInNldFNob3dBbmltYXRpb25Nb2RhbCIsIl91c2VTdGF0ZTIxIiwiX3VzZVN0YXRlMjIiLCJ2aWRlb1Byb21wdCIsInNldFZpZGVvUHJvbXB0IiwiX3VzZVN0YXRlMjMiLCJfdXNlU3RhdGUyNCIsImdlbmVyYXRlZENhcHRpb24iLCJzZXRHZW5lcmF0ZWRDYXB0aW9uIiwiZmlsZUlucHV0UmVmIiwiZ2V0RXJhRGV0YWlscyIsImN1cnJlbnRZZWFyIiwiZXJhTWFwIiwiZGVzY3JpcHRpb24iLCJzdGFydFllYXIiLCJNYXRoIiwiZmxvb3IiLCJkZXRhaWxzIiwiZnVsbERlc2NyaXB0aW9uIiwiY29uY2F0IiwiZXJhRGV0YWlscyIsImNhbGN1bGF0ZUZpbHRlcnMiLCJzdHlsZSIsImZpbHRlciIsIm92ZXJsYXlDb2xvciIsIm92ZXJsYXlPcGFjaXR5Iiwibm9pc2VPcGFjaXR5IiwidmlnbmV0dGUiLCJwcm9ncmVzcyIsImRhdGFVUkx0b0Jhc2U2NCIsImRhdGFVUkwiLCJzcGxpdCIsImhhbmRsZURvd25sb2FkIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJGUkFNRV9XSURUSCIsIkZSQU1FX0hFSUdIVCIsIklNQUdFX1NJWkUiLCJQQURESU5HX1giLCJQQURESU5HX1RPUCIsImN0eCIsImdldENvbnRleHQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImltZyIsIkltYWdlIiwib25sb2FkIiwiY3JvcFNpemUiLCJzb3VyY2VYIiwic291cmNlWSIsImRyYXdJbWFnZSIsInRleHRUb0RyYXciLCJmb250IiwidGV4dEFsaWduIiwiZmlsbFRleHQiLCJ0b0Jsb2IiLCJibG9iIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsIm9uZXJyb3IiLCJzcmMiLCJjYWxsSW1hZ2VHZW5lcmF0aW9uQVBJIiwiX3JlZiIsIl9jYWxsZWUiLCJpbnB1dEJhc2U2NCIsInByb21wdCIsImFwaUtleSIsImFwaVVybCIsInBheWxvYWQiLCJNQVhfUkVUUklFUyIsImJhc2U2NERhdGEiLCJhdHRlbXB0IiwiX3Jlc3VsdCRjYW5kaWRhdGVzIiwicmVzcG9uc2UiLCJyZXN1bHQiLCJfdCIsIl9jb250ZXh0IiwiY29udGVudHMiLCJyb2xlIiwicGFydHMiLCJ0ZXh0IiwiaW5saW5lRGF0YSIsIm1pbWVUeXBlIiwiZGF0YSIsImdlbmVyYXRpb25Db25maWciLCJyZXNwb25zZU1vZGFsaXRpZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJFcnJvciIsInN0YXR1cyIsImpzb24iLCJjYW5kaWRhdGVzIiwiY29udGVudCIsImZpbmQiLCJjb25zb2xlIiwiZXJyb3IiLCJzZXRUaW1lb3V0IiwicG93IiwiX3giLCJfeDIiLCJjYWxsTExNVGV4dEFQSSIsIl9yZWYyIiwiX2NhbGxlZTIiLCJ1c2VyUXVlcnkiLCJzeXN0ZW1Qcm9tcHQiLCJfcmVzdWx0JGNhbmRpZGF0ZXMyIiwiX3QyIiwiX2NvbnRleHQyIiwic3lzdGVtSW5zdHJ1Y3Rpb24iLCJ0cmltIiwiX3gzIiwiX3g0IiwiaGFuZGxlR2VuZXJhdGVDYXB0aW9uIiwiX3JlZjMiLCJfY2FsbGVlMyIsImNhcHRpb24iLCJfY29udGV4dDMiLCJoYW5kbGVBcHBseVRpbWVUcmF2ZWwiLCJfcmVmNCIsIl9jYWxsZWU0IiwiaXNSZWdlbmVyYXRlIiwidXNlck1vZGlmaWVkUHJvbXB0IiwidHJhbnNmb3JtYXRpb25Qcm9tcHQiLCJuZXdJbWFnZVVybCIsIl9hcmdzNCIsIl9jb250ZXh0NCIsInVuZGVmaW5lZCIsImluY2x1ZGVzIiwiaGFuZGxlQXBwbHlDdXN0b21Qcm9tcHQiLCJfcmVmNSIsIl9jYWxsZWU1IiwiY3VycmVudEJhc2U2NCIsImZ1bGxQcm9tcHQiLCJfY29udGV4dDUiLCJoYW5kbGVHZW5lcmF0ZUNpbmVtYXRpY0ZyYW1lIiwiX3JlZjYiLCJfY2FsbGVlNiIsImNpbmVtYXRpY1Byb21wdCIsIl9jb250ZXh0NiIsImhhbmRsZUltYWdlVXBsb2FkIiwiX2UkdGFyZ2V0JGZpbGVzIiwiZmlsZSIsInRhcmdldCIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsImRhdGFVcmwiLCJyZWFkQXNEYXRhVVJMIiwiaGFuZGxlRHJvcCIsIl9lJGRhdGFUcmFuc2ZlciRmaWxlcyIsInByZXZlbnREZWZhdWx0IiwiZGF0YVRyYW5zZmVyIiwidHlwZSIsInN0YXJ0c1dpdGgiLCJoYW5kbGVSZXR1cm5Ub09yaWdpbmFsIiwicmVzZXRBcHAiLCJjdXJyZW50RGlzcGxheVVSTCIsImlzVHJhbnNmb3JtZWQiLCJzdWJzdHJpbmciLCJjbGFzc05hbWUiLCJzaXplIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInJvd3MiLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJib3hTaGFkb3ciLCJvbkRyYWdPdmVyIiwib25EcmFnTGVhdmUiLCJvbkRyb3AiLCJfZmlsZUlucHV0UmVmJGN1cnJlbnQiLCJjdXJyZW50IiwiRnJhZ21lbnQiLCJhbHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvcGFjaXR5IiwiaWQiLCJiYXNlRnJlcXVlbmN5Iiwic3RpdGNoVGlsZXMiLCJmb250RmFtaWx5IiwidHJhbnNmb3JtIiwicmFuZG9tIiwidGl0bGUiLCJtaW4iLCJtYXgiLCJwYXJzZUludCIsImxlZnQiLCJyZWYiLCJhY2NlcHQiLCJfZmlsZUlucHV0UmVmJGN1cnJlbnQyIiwiX2ZpbGVJbnB1dFJlZiRjdXJyZW50MyIsIlJlYWN0RE9NIiwiY3JlYXRlUm9vdCIsImdldEVsZW1lbnRCeUlkIiwicmVuZGVyIl0sInNvdXJjZXMiOlsiSW5saW5lIEJhYmVsIHNjcmlwdCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgICAgLy8gRMOpZmluaXRpb24gbWFudWVsbGUgZGVzIGljw7RuZXMgTHVjaWRlIHBvdXIgw6l2aXRlciBsZXMgcHJvYmzDqG1lcyBkJ2ltcG9ydGF0aW9uIGRhbnMgbCdlbnZpcm9ubmVtZW50IEJhYmVsIENETlxuICAgICAgICBjb25zdCBVcGxvYWQgPSAocHJvcHMpID0+IDxzdmcgey4uLnByb3BzfSB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNFwiLz48cG9seWxpbmUgcG9pbnRzPVwiMTcgOCAxMiAzIDcgOFwiLz48bGluZSB4MT1cIjEyXCIgeTE9XCIzXCIgeDI9XCIxMlwiIHkyPVwiMTVcIi8+PC9zdmc+O1xuICAgICAgICBjb25zdCBSZWZyZXNoQ3cgPSAocHJvcHMpID0+IDxzdmcgey4uLnByb3BzfSB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMjEgMnY2aC02XCIvPjxwYXRoIGQ9XCJNMyAxMmE5IDkgMCAwIDEgMTUtNi44bC0xLjMtMS4zXCIvPjxwYXRoIGQ9XCJNMyAyMnYtNmg2XCIvPjxwYXRoIGQ9XCJNMjEgMTJhOSA5IDAgMCAxLTE1IDYuOGwxLjMgMS4zXCIvPjwvc3ZnPjtcbiAgICAgICAgY29uc3QgQ2FtZXJhID0gKHByb3BzKSA9PiA8c3ZnIHsuLi5wcm9wc30geG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTE0LjUgNGgtNEw5IDJINUMzLjkgMiAzIDIuOSAzIDR2MTZjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY0YzAtMS4xLS45LTItMi0yaC00LjV6XCIvPjxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTNcIiByPVwiM1wiLz48L3N2Zz47XG4gICAgICAgIGNvbnN0IEhpc3RvcnkgPSAocHJvcHMpID0+IDxzdmcgey4uLnByb3BzfSB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMTIgMnY2aDZcIi8+PHBhdGggZD1cIk0yMS41IDEzYTkgOSAwIDEgMS0yLjQtNi44bC0xLjMgMS4zXCIvPjxwYXRoIGQ9XCJNMTIgM3Y2aDZcIi8+PHBhdGggZD1cIk0yMS41IDEzYTkgOSAwIDEgMS0yLjQtNi44bC0xLjMgMS4zXCIvPjwvc3ZnPjtcbiAgICAgICAgY29uc3QgU3BhcmtsZXMgPSAocHJvcHMpID0+IDxzdmcgey4uLnByb3BzfSB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMTAgNWwyIDIgMi0yTTEwIDE5bDItMiAyIDJNMyAxMmgzTTE4IDEyaDNNMTIgM3YzTTEyIDE4djNNMTIgOWwtMyAzIDMgMyAzLTN6XCIvPjwvc3ZnPjtcbiAgICAgICAgY29uc3QgRG93bmxvYWQgPSAocHJvcHMpID0+IDxzdmcgey4uLnByb3BzfSB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCIyXCIgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNFwiLz48cG9seWxpbmUgcG9pbnRzPVwiNyAxMCAxMiAxNSAxNyAxMFwiLz48bGluZSB4MT1cIjEyXCIgeTE9XCIxNVwiIHgyPVwiMTJcIiB5Mj1cIjNcIi8+PC9zdmc+O1xuICAgICAgICBjb25zdCBXYW5kMiA9IChwcm9wcykgPT4gPHN2ZyB7Li4ucHJvcHN9IHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2VXaWR0aD1cIjJcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk0xMyAxNGw1LTUgNSA1LTUgNXpcIi8+PHBhdGggZD1cIk0yIDIybDctN1wiLz48cGF0aCBkPVwiTTEwIDZsLTQgNFwiLz48cGF0aCBkPVwiTTE4IDExbC00IDRcIi8+PC9zdmc+O1xuICAgICAgICBjb25zdCBGaWxtID0gKHByb3BzKSA9PiA8c3ZnIHsuLi5wcm9wc30geG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIj48cmVjdCB4PVwiMlwiIHk9XCIyXCIgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgcng9XCIyLjE4XCIgcnk9XCIyLjE4XCIvPjxsaW5lIHgxPVwiN1wiIHkxPVwiMlwiIHgyPVwiN1wiIHkyPVwiMjJcIi8+PGxpbmUgeDE9XCIxN1wiIHkxPVwiMlwiIHgyPVwiMTdcIiB5Mj1cIjIyXCIvPjxsaW5lIHgxPVwiMlwiIHkxPVwiMTJcIiB4Mj1cIjIyXCIgeTI9XCIxMlwiLz48bGluZSB4MT1cIjJcIiB5MT1cIjdcIiB4Mj1cIjIyXCIgeTI9XCI3XCIvPjxsaW5lIHgxPVwiMlwiIHkxPVwiMTdcIiB4Mj1cIjIyXCIgeTI9XCIxN1wiLz48L3N2Zz47XG5cbiAgICAgICAgY29uc3QgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gPSBSZWFjdDtcblxuICAgICAgICBmdW5jdGlvbiBBcHAoKSB7XG4gICAgICAgICAgY29uc3QgW3llYXIsIHNldFllYXJdID0gdXNlU3RhdGUoMjAyNSk7XG4gICAgICAgICAgY29uc3QgW3RhcmdldFllYXIsIHNldFRhcmdldFllYXJdID0gdXNlU3RhdGUoMjAyNSk7XG4gICAgICAgICAgY29uc3QgW29yaWdpbmFsSW1hZ2VCYXNlNjQsIHNldE9yaWdpbmFsSW1hZ2VCYXNlNjRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICAgICAgY29uc3QgW2Rpc3BsYXlJbWFnZVVSTCwgc2V0RGlzcGxheUltYWdlVVJMXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICAgIGNvbnN0IFtpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICBjb25zdCBbZmlsdGVycywgc2V0RmlsdGVyc10gPSB1c2VTdGF0ZSh7fSk7XG4gICAgICAgICAgY29uc3QgW2lzRGV2ZWxvcGluZywgc2V0SXNEZXZlbG9waW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICBjb25zdCBbZXJyb3JNZXNzYWdlLCBzZXRFcnJvck1lc3NhZ2VdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICAgICAgY29uc3QgW2N1c3RvbVByb21wdCwgc2V0Q3VzdG9tUHJvbXB0XSA9IHVzZVN0YXRlKCcnKTtcbiAgICAgICAgICBjb25zdCBbZWRpdGFibGVFcmFQcm9tcHQsIHNldEVkaXRhYmxlRXJhUHJvbXB0XSA9IHVzZVN0YXRlKCcnKTtcbiAgICAgICAgICBjb25zdCBbc2hvd0FuaW1hdGlvbk1vZGFsLCBzZXRTaG93QW5pbWF0aW9uTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgICAgICAgIGNvbnN0IFt2aWRlb1Byb21wdCwgc2V0VmlkZW9Qcm9tcHRdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgIGNvbnN0IFtnZW5lcmF0ZWRDYXB0aW9uLCBzZXRHZW5lcmF0ZWRDYXB0aW9uXSA9IHVzZVN0YXRlKCcnKTtcbiAgICAgICAgICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgICAgICAgICAvLyBGb25jdGlvbiBwb3VyIGTDqWZpbmlyIGxlIHRow6htZSBwcsOpY2lzIGRlIGwnw6lwb3F1ZSBwYXIgYmxvY3MgZGUgNSBhbnNcbiAgICAgICAgICBjb25zdCBnZXRFcmFEZXRhaWxzID0gdXNlQ2FsbGJhY2soKGN1cnJlbnRZZWFyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcmFNYXAgPSB7XG4gICAgICAgICAgICAgIDE5MDA6IHsgbmFtZTogXCJCZWxsZSDDiXBvcXVlIC8gw4lkb3VhcmRpZW5cIiwgZGVzY3JpcHRpb246IFwiQW1iaWFuY2UgZm9ybWVsbGUsIGNvcnNldHMsIGNvc3R1bWVzIHRyb2lzLXBpw6hjZXMsIGNoYXBlYXV4IMOpbGFib3LDqXMsIGTDqWJ1dCBkZSBsJ2F1dG9tb2JpbGUuIEFtYmlhbmNlIHBob3RvOiBzw6lwaWEsIGdyYWluLlwiIH0sXG4gICAgICAgICAgICAgIDE5MDU6IHsgbmFtZTogXCJUcmFuc2l0aW9uIEFydCBOb3V2ZWF1XCIsIGRlc2NyaXB0aW9uOiBcIkxpZ25lcyBmbHVpZGVzLCByb2JlcyBtb2lucyBzdHJ1Y3R1csOpZXMsIGNvaWZmdXJlcyB2b2x1bWluZXVzZXMsIHRlaW50ZXMgZG91Y2VzLCBhbWJpYW5jZSByb21hbnRpcXVlLlwiIH0sXG4gICAgICAgICAgICAgIDE5MTA6IHsgbmFtZTogXCJQcsOpLUd1ZXJyZVwiLCBkZXNjcmlwdGlvbjogXCJUZW51ZXMgcHJhdGlxdWVzLCB1bmlmb3JtZXMgbWlsaXRhaXJlcyBkaXNjcmV0cywgbW9kZSBwbHVzIHNpbXBsZSwgY29pZmZ1cmVzIHJlbGV2w6llcywgZMOpYnV0IGRlcyBjb3VsZXVycyBww6JsZXMuXCIgfSxcbiAgICAgICAgICAgICAgMTkxNTogeyBuYW1lOiBcIkd1ZXJyZSBNb25kaWFsZVwiLCBkZXNjcmlwdGlvbjogXCJWw6p0ZW1lbnRzIHV0aWxpdGFpcmVzLCBzaWxob3VldHRlcyBzw6l2w6hyZXMsIGFic2VuY2UgZGUgZmFzdGUsIGFtYmlhbmNlIHNvbWJyZSBldCBhdXN0w6hyZS4gUGhvdG8gZW4gbm9pciBldCBibGFuYy5cIiB9LFxuICAgICAgICAgICAgICAxOTIwOiB7IG5hbWU6IFwiQW5uw6llcyBGb2xsZXMgKEZsYXBwZXIpXCIsIGRlc2NyaXB0aW9uOiBcIlJvYmVzIGNvdXJ0ZXMsIHRhaWxsZSBiYXNzZSwgY29pZmZ1cmVzIGF1IGNhcnLDqSAoYm9iKSwgYW1iaWFuY2UgZmVzdGl2ZSwgamF6eiwgYXJ0IGTDqWNvLiBWw6p0ZW1lbnRzOiBzdHlsZSBGbGFwcGVyLlwiIH0sXG4gICAgICAgICAgICAgIDE5MjU6IHsgbmFtZTogXCJBcnQgRMOpY28gUmF5b25uYW50XCIsIGRlc2NyaXB0aW9uOiBcIkNvdWxldXJzIHJpY2hlcyAob3IsIG5vaXIpLCBnw6lvbcOpdHJpZSwgw6lsw6lnYW5jZSBzb3BoaXN0aXF1w6llLCBpbmZsdWVuY2UgZGUgbCfDiWd5cHRlLCByb2JlcyBwZXJsw6llcy5cIiB9LFxuICAgICAgICAgICAgICAxOTMwOiB7IG5hbWU6IFwiTGEgR3JhbmRlIETDqXByZXNzaW9uXCIsIGRlc2NyaXB0aW9uOiBcIkxpZ25lcyBsb25ndWVzIGV0IGZsdWlkZXMsIMOpcGF1bGVzIGNhcnLDqWVzLCB2w6p0ZW1lbnRzIHBsdXMgbW9kZXN0ZXMsIGFtYmlhbmNlIHPDqXJpZXVzZSBldCBjbGFzc2lxdWUuXCIgfSxcbiAgICAgICAgICAgICAgMTkzNTogeyBuYW1lOiBcIsOCZ2UgZCdPciBIb2xseXdvb2RcIiwgZGVzY3JpcHRpb246IFwiR2xhbW91ciwgZm91cnJ1cmVzLCByb2JlcyBkZSBzb2lyw6llIHNjaW50aWxsYW50ZXMsIGNvaWZmdXJlcyBvbmR1bMOpZXMsIGFtYmlhbmNlIGx1eHVldXNlIGV0IHRow6nDonRyYWxlLlwiIH0sXG4gICAgICAgICAgICAgIDE5NDA6IHsgbmFtZTogXCJXV0lJIEF1c3TDqXJpdMOpXCIsIGRlc2NyaXB0aW9uOiBcIlbDqnRlbWVudHMgcmF0aW9ubsOpcywganVwZXMgcGxpc3PDqWVzIGNvdXJ0ZXMsIHRhaWxsZXVycyBzdHJpY3RzLCBjb2lmZnVyZXMgZW5yb3Vsw6llcywgYW1iaWFuY2UgbWlsaXRhaXJlLlwiIH0sXG4gICAgICAgICAgICAgIDE5NDU6IHsgbmFtZTogXCJMaWLDqXJhdGlvbiAvIFBvc3QtR3VlcnJlXCIsIGRlc2NyaXB0aW9uOiBcIlJldG91ciBhdXggY291bGV1cnMsIG1vZGUgZXVyb3DDqWVubmUsIGp1cGVzIHBsdXMgbG9uZ3VlcywgY29pZmZ1cmVzIG5hdHVyZWxsZXMsIG9wdGltaXNtZSBwcnVkZW50LlwiIH0sXG4gICAgICAgICAgICAgIDE5NTA6IHsgbmFtZTogXCJOZXcgTG9vayBldCBQaW4tdXBcIiwgZGVzY3JpcHRpb246IFwiVGFpbGxlIG1hcnF1w6llLCBqdXBlcyB2b2x1bWluZXVzZXMsIHBhbnRhbG9ucyBjaWdhcmV0dGUsIHJvY2snbidyb2xsLCBjb3VsZXVycyBwYXN0ZWwuIEFtYmlhbmNlIGZhbWlsaWFsZSwgdMOpbMOpdmlzaW9uLlwiIH0sXG4gICAgICAgICAgICAgIDE5NTU6IHsgbmFtZTogXCJQcsOqdC3DoC1wb3J0ZXJcIiwgZGVzY3JpcHRpb246IFwiTG9vayBwbHVzIGNhc3VhbCwgYmxvdXNvbnMgZW4gY3VpciwgamVhbnMsIGx1bmV0dGVzIGRlIHNvbGVpbCwgaW5mbHVlbmNlIGFkb2xlc2NlbnRlLCBhbWJpYW5jZSBkeW5hbWlxdWUuXCIgfSxcbiAgICAgICAgICAgICAgMTk2MDogeyBuYW1lOiBcIlN3aW5naW5nIExvbmRvblwiLCBkZXNjcmlwdGlvbjogXCJNaW5pLWp1cGUsIGNvdWxldXJzIHBvcCAoZnVjaHNpYSwgb3JhbmdlKSwgY291cGVzIGfDqW9tw6l0cmlxdWVzLCBhbWJpYW5jZSBmdXR1cmlzdGUgZXQgamV1bmUuIFBob3RvIGVuIGNvdWxldXIgc2F0dXLDqWUuXCIgfSxcbiAgICAgICAgICAgICAgMTk2NTogeyBuYW1lOiBcIlBvcCBDdWx0dXJlIC8gSGlwcGllXCIsIGRlc2NyaXB0aW9uOiBcIlRyYW5zaXRpb24gdmVycyBsZXMgaW1wcmltw6lzIHBzeWNow6lkw6lsaXF1ZXMsIHJvYmVzIHRyYXDDqHplLCBib3R0ZXMgaGF1dGVzLCBsdW5ldHRlcyByb25kZXMsIGVzcHJpdCBsaWJyZS5cIiB9LFxuICAgICAgICAgICAgICAxOTcwOiB7IG5hbWU6IFwiRmxvd2VyIFBvd2VyIC8gQm9ob1wiLCBkZXNjcmlwdGlvbjogXCJQYXR0ZXMgZCdlcGgsIGNoZW1pc2VzIMOgIGZsZXVycywgdGlzc3VzIG5hdHVyZWxzLCBjaGV2ZXV4IGxvbmdzLCBhbWJpYW5jZSBib2jDqG1lIGV0IGTDqWNvbnRyYWN0w6llLlwiIH0sXG4gICAgICAgICAgICAgIDE5NzU6IHsgbmFtZTogXCJEaXNjbyBldCBHbGFtIFJvY2tcIiwgZGVzY3JpcHRpb246IFwiUGFpbGxldHRlcywgc2F0aW4sIGNvbWJpbmFpc29ucywgdGFsb25zIHBsYXRlZm9ybWUsIGNvdXBlcyBhZnJvLCBhbWJpYW5jZSBudWl0IGV0IGNsdWJiaW5nLlwiIH0sXG4gICAgICAgICAgICAgIDE5ODA6IHsgbmFtZTogXCJQdWlzc2FuY2UgODBzXCIsIGRlc2NyaXB0aW9uOiBcIsOJcGF1bGVzIHJlbWJvdXJyw6llcywgY291bGV1cnMgZmx1bywgbHljcmEsIGNvaWZmdXJlcyB2b2x1bWluZXVzZXMsIGFtYmlhbmNlIGZpdG5lc3MgZXQgYnVzaW5lc3MuXCIgfSxcbiAgICAgICAgICAgICAgMTk4NTogeyBuYW1lOiBcIk5ldyBXYXZlIGV0IFJvY2tcIiwgZGVzY3JpcHRpb246IFwiSmVhbnMgZMOpY2hpcsOpcywgdmVzdGVzIGVuIGN1aXIsIGNvaWZmdXJlcyBhc3ltw6l0cmlxdWVzLCBhbWJpYW5jZSByZWJlbGxlIGV0IHVuZGVyZ3JvdW5kLlwiIH0sXG4gICAgICAgICAgICAgIDE5OTA6IHsgbmFtZTogXCJHcnVuZ2UgZXQgTWluaW1hbGlzbWVcIiwgZGVzY3JpcHRpb246IFwiQ2hlbWlzZXMgw6AgY2FycmVhdXgsIERvYyBNYXJ0ZW5zLCBzaWxob3VldHRlcyBhbXBsZXMsIGNvdWxldXJzIG5ldXRyZXMvc29tYnJlcywgYW1iaWFuY2UgYW50aS1tb2RlLiBQaG90byBhdmVjIGdyYWluLlwiIH0sXG4gICAgICAgICAgICAgIDE5OTU6IHsgbmFtZTogXCJQb3AgQ3VsdHVyZSA5MHMgLyBSJkJcIiwgZGVzY3JpcHRpb246IFwiQ3JvcCB0b3BzLCBqZWFucyB0YWlsbGUgaGF1dGUsIHN1cnbDqnRlbWVudHMsIGFtYmlhbmNlIE1UViwgY291bGV1cnMgdml2ZXMsIG1pbmltYWxpc21lIGNoaWMuXCIgfSxcbiAgICAgICAgICAgICAgMjAwMDogeyBuYW1lOiBcIlkySyBldCBOdW3DqXJpcXVlXCIsIGRlc2NyaXB0aW9uOiBcIkplYW5zIHRhaWxsZSBiYXNzZSwgaGF1dHMgY291cnRzLCBjb3VsZXVycyBtw6l0YWxsaXF1ZXMsIGNoYXVzc3VyZXMgbWFzc2l2ZXMsIGFtYmlhbmNlIGZ1dHVyaXN0ZS9udW3DqXJpcXVlLlwiIH0sXG4gICAgICAgICAgICAgIDIwMDU6IHsgbmFtZTogXCJQb3N0LUdydW5nZSAvIEVtb1wiLCBkZXNjcmlwdGlvbjogXCJDaGV2ZXV4IGxpc3PDqXMsIGplYW5zIHNsaW0sIHQtc2hpcnRzIGdyYXBoaXF1ZXMsIGFtYmlhbmNlIHNvbWJyZSBldCBtw6lsYW5jb2xpcXVlLiBQaG90byBlbiBmYWlibGUgY29udHJhc3RlLlwiIH0sXG4gICAgICAgICAgICAgIDIwMTA6IHsgbmFtZTogXCJIaXBzdGVyIGV0IFLDqXRyb1wiLCBkZXNjcmlwdGlvbjogXCJCYXJiZXMsIGx1bmV0dGVzIHLDqXRybywgdsOqdGVtZW50cyBkJ29jY2FzaW9uLCBsb29rIGTDqWNvbnRyYWN0w6ktZWZmb3J0LCBhbWJpYW5jZSBhcnRpc2FuYWxlLlwiIH0sXG4gICAgICAgICAgICAgIDIwMTU6IHsgbmFtZTogXCJBdGhsZWlzdXJlIGV0IFRlY2hcIiwgZGVzY3JpcHRpb246IFwiVsOqdGVtZW50cyBkZSBzcG9ydCwgbWluaW1hbGlzbWUsIGNvdWxldXJzIHNvdXJkZXMsIGFwcGFyZWlscyB0ZWNobm9sb2dpcXVlcyB2aXNpYmxlcywgYW1iaWFuY2UgdXJiYWluZS5cIiB9LFxuICAgICAgICAgICAgICAyMDIwOiB7IG5hbWU6IFwiQ29uZm9ydCBldCBQYXN0ZWxcIiwgZGVzY3JpcHRpb246IFwiVsOqdGVtZW50cyBkZSBjb25mb3J0IChzd2VhdHMsIGpvZ2dpbmdzKSwgY291bGV1cnMgcGFzdGVsIGRvdWNlcywgY29pZmZ1cmVzIG5hdHVyZWxsZXMsIGFtYmlhbmNlIGNvY29vbmluZy5cIiB9LFxuICAgICAgICAgICAgICAyMDI1OiB7IG5hbWU6IFwiVGVuZGFuY2UgQWN0dWVsbGVcIiwgZGVzY3JpcHRpb246IFwiTW9kZSByYXBpZGUgKEZhc3QgRmFzaGlvbiksIHN0eWxlcyB2YXJpw6lzIChRdWlldCBMdXh1cnksIFZpbnRhZ2UgOTBzKSwgaW5mbHVlbmNlIGRlcyByw6lzZWF1eCwgYW1iaWFuY2UgSEQuXCIgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGUgbGUgZMOpYnV0IGR1IGJsb2MgZGUgNSBhbnMgKGV4OiAxOTY4IC0+IDE5NjUpXG4gICAgICAgICAgICBsZXQgc3RhcnRZZWFyID0gTWF0aC5mbG9vcihjdXJyZW50WWVhciAvIDUpICogNTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQXNzdXJlIGxlcyBsaW1pdGVzXG4gICAgICAgICAgICBpZiAoc3RhcnRZZWFyIDwgMTkwMCkgc3RhcnRZZWFyID0gMTkwMDtcbiAgICAgICAgICAgIGlmIChjdXJyZW50WWVhciA+PSAyMDI1KSBzdGFydFllYXIgPSAyMDI1O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSw6ljdXDDqHJlIGxlcyBkw6l0YWlscyBkZSBsJ8OpcG9xdWUuIFxuICAgICAgICAgICAgY29uc3QgZGV0YWlscyA9IGVyYU1hcFtzdGFydFllYXJdIHx8IGVyYU1hcFsyMDI1XTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ29tYmluZSBsZSBub20gZXQgbGEgZGVzY3JpcHRpb24gcG91ciBsZSBwcm9tcHQgZGUgbCdJQSAoVVRJTElTw4kgcG91ciBsJ2luaXRpYWxpc2F0aW9uKVxuICAgICAgICAgICAgZGV0YWlscy5mdWxsRGVzY3JpcHRpb24gPSBgJHtkZXRhaWxzLm5hbWV9LiAke2RldGFpbHMuZGVzY3JpcHRpb259YDtcbiAgICAgICAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgICAgICAgIH0sIFtdKTtcblxuICAgICAgICAgIC8vIE1ldCDDoCBqb3VyIGxlIHByb21wdCDDqWRpdGFibGUgbG9yc3F1ZSBsJ2FubsOpZSBjaWJsZSBjaGFuZ2VcbiAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJhRGV0YWlscyA9IGdldEVyYURldGFpbHModGFyZ2V0WWVhcik7XG4gICAgICAgICAgICBzZXRFZGl0YWJsZUVyYVByb21wdChlcmFEZXRhaWxzLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICB9LCBbdGFyZ2V0WWVhciwgZ2V0RXJhRGV0YWlsc10pO1xuXG5cbiAgICAgICAgICAvLyBMb2dpcXVlIGRlIGfDqW7DqXJhdGlvbiBkZXMgZmlsdHJlcyBDU1Mgc2Vsb24gbCdhbm7DqWUgQVBQTElRVcOJRSAoeWVhcilcbiAgICAgICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlRmlsdGVycyA9IChjdXJyZW50WWVhcikgPT4ge1xuICAgICAgICAgICAgICBsZXQgc3R5bGUgPSB7IGZpbHRlcjogJycsIG92ZXJsYXlDb2xvcjogJ3RyYW5zcGFyZW50Jywgb3ZlcmxheU9wYWNpdHk6IDAsIG5vaXNlT3BhY2l0eTogMCwgdmlnbmV0dGU6IDAgfTtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRZZWFyIDw9IDE5MjApIHtcbiAgICAgICAgICAgICAgICBzdHlsZS5maWx0ZXIgPSBgc2VwaWEoMC44KSBncmF5c2NhbGUoMSkgY29udHJhc3QoMS4yKSBicmlnaHRuZXNzKDAuOSkgYmx1cigwLjVweClgO1xuICAgICAgICAgICAgICAgIHN0eWxlLm5vaXNlT3BhY2l0eSA9IDAuNTtcbiAgICAgICAgICAgICAgICBzdHlsZS52aWduZXR0ZSA9IDAuNjtcbiAgICAgICAgICAgICAgICBzdHlsZS5vdmVybGF5Q29sb3IgPSAnIzVhNDAzMCc7XG4gICAgICAgICAgICAgICAgc3R5bGUub3ZlcmxheU9wYWNpdHkgPSAwLjI7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFllYXIgPD0gMTk1MCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gKGN1cnJlbnRZZWFyIC0gMTkyMCkgLyAzMDtcbiAgICAgICAgICAgICAgICBzdHlsZS5maWx0ZXIgPSBgZ3JheXNjYWxlKDEpIGNvbnRyYXN0KDEuMykgYnJpZ2h0bmVzcygxLjEpIHNlcGlhKCR7MC4zIC0gcHJvZ3Jlc3MgKiAwLjN9KWA7XG4gICAgICAgICAgICAgICAgc3R5bGUubm9pc2VPcGFjaXR5ID0gMC4zO1xuICAgICAgICAgICAgICAgIHN0eWxlLnZpZ25ldHRlID0gMC40O1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRZZWFyIDw9IDE5NzUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IChjdXJyZW50WWVhciAtIDE5NTApIC8gMjU7XG4gICAgICAgICAgICAgICAgc3R5bGUuZmlsdGVyID0gYHNhdHVyYXRlKCR7MSArIHByb2dyZXNzICogMC44fSkgc2VwaWEoMC4yKSBjb250cmFzdCgxLjEpIGh1ZS1yb3RhdGUoLTEwZGVnKWA7XG4gICAgICAgICAgICAgICAgc3R5bGUub3ZlcmxheUNvbG9yID0gJyNmZmQ3MDAnO1xuICAgICAgICAgICAgICAgIHN0eWxlLm92ZXJsYXlPcGFjaXR5ID0gMC4xNTtcbiAgICAgICAgICAgICAgICBzdHlsZS5ub2lzZU9wYWNpdHkgPSAwLjI7XG4gICAgICAgICAgICAgICAgc3R5bGUudmlnbmV0dGUgPSAwLjM7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFllYXIgPD0gMTk5NSkge1xuICAgICAgICAgICAgICAgIHN0eWxlLmZpbHRlciA9IGBzYXR1cmF0ZSgwLjkpIGNvbnRyYXN0KDEuMTUpIGJyaWdodG5lc3MoMS4wNSlgO1xuICAgICAgICAgICAgICAgIHN0eWxlLm92ZXJsYXlDb2xvciA9ICcjODAwMDgwJztcbiAgICAgICAgICAgICAgICBzdHlsZS5vdmVybGF5T3BhY2l0eSA9IDAuMDU7XG4gICAgICAgICAgICAgICAgc3R5bGUubm9pc2VPcGFjaXR5ID0gMC4xNTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50WWVhciA8PSAyMDEwKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuZmlsdGVyID0gYHNhdHVyYXRlKDEuMSkgY29udHJhc3QoMS4wNSlgO1xuICAgICAgICAgICAgICAgIHN0eWxlLm5vaXNlT3BhY2l0eSA9IDAuMDU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuZmlsdGVyID0gYG5vbmVgO1xuICAgICAgICAgICAgICAgIHN0eWxlLm5vaXNlT3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0RmlsdGVycyhzdHlsZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjYWxjdWxhdGVGaWx0ZXJzKHllYXIpO1xuICAgICAgICAgIH0sIFt5ZWFyXSk7XG5cbiAgICAgICAgICAvLyBDb252ZXJ0aXQgRGF0YSBVUkwgZW4gQmFzZTY0IChwb3VyIGwnQVBJKVxuICAgICAgICAgIGNvbnN0IGRhdGFVUkx0b0Jhc2U2NCA9IChkYXRhVVJMKSA9PiBkYXRhVVJMLnNwbGl0KCcsJylbMV07XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRm9uY3Rpb24gZGUgdMOpbMOpY2hhcmdlbWVudCBtaXNlIMOgIGpvdXIgcG91ciBpbmNsdXJlIGxlIGNhZHJlICh2aWEgQ2FudmFzKSBldCBjYWRyYWdlIG9wdGltaXPDqVxuICAgICAgICAgIGNvbnN0IGhhbmRsZURvd25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5SW1hZ2VVUkwpIHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UoXCJWZXVpbGxleiBjaGFyZ2VyIG91IGfDqW7DqXJlciB1bmUgaW1hZ2UgYXZhbnQgZGUgdMOpbMOpY2hhcmdlci5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIGNvbnN0IEZSQU1FX1dJRFRIID0gODAwOyBcbiAgICAgICAgICAgIGNvbnN0IEZSQU1FX0hFSUdIVCA9IDEwMDA7XG4gICAgICAgICAgICBjb25zdCBJTUFHRV9TSVpFID0gNzAwO1xuICAgICAgICAgICAgY29uc3QgUEFERElOR19YID0gKEZSQU1FX1dJRFRIIC0gSU1BR0VfU0laRSkgLyAyO1xuICAgICAgICAgICAgY29uc3QgUEFERElOR19UT1AgPSBQQURESU5HX1g7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IEZSQU1FX1dJRFRIO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IEZSQU1FX0hFSUdIVDtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgICAgICAvLyAtLS0gMS4gRGVzc2luZXIgbGUgY2FkcmUgUG9sYXJvaWQgYmxhbmMgKEZvbmQpIC0tLVxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjRkZGRkZGJztcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBGUkFNRV9XSURUSCwgRlJBTUVfSEVJR0hUKTtcblxuICAgICAgICAgICAgLy8gLS0tIDIuIENoYXJnZXIgZXQgZGVzc2luZXIgbCdpbWFnZSAtLS1cbiAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjcm9wU2l6ZTtcbiAgICAgICAgICAgICAgICBsZXQgc291cmNlWCA9IDA7XG4gICAgICAgICAgICAgICAgbGV0IHNvdXJjZVkgPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKGltZy53aWR0aCA+IGltZy5oZWlnaHQpIHsgXG4gICAgICAgICAgICAgICAgICAgIC8vIFBheXNhZ2UgKHBsdXMgbGFyZ2UpIDogUmVjYWRyYWdlIGRlcyBjw7R0w6lzIChjZW50csOpIGhvcml6b250YWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgY3JvcFNpemUgPSBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VYID0gKGltZy53aWR0aCAtIGltZy5oZWlnaHQpIC8gMjsgXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgXG4gICAgICAgICAgICAgICAgICAgIC8vIFBvcnRyYWl0IChwbHVzIGhhdXQpIG91IENhcnLDqSA6IFJlY2FkcmFnZSBkdSBiYXMgKHByaW9yaXTDqSBhdSBoYXV0L3Zpc2FnZXMpXG4gICAgICAgICAgICAgICAgICAgIGNyb3BTaXplID0gaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VZID0gMDsgLy8gQ29tbWVuY2UgZW4gaGF1dCAobGUgdmlzYWdlIGVzdCBjb25zZXJ2w6kpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICAgICAgaW1nLCBcbiAgICAgICAgICAgICAgICAgICAgc291cmNlWCwgc291cmNlWSwgY3JvcFNpemUsIGNyb3BTaXplLCAvLyBSZWN0YW5nbGUgc291cmNlIFxuICAgICAgICAgICAgICAgICAgICBQQURESU5HX1gsIFBBRERJTkdfVE9QLCBJTUFHRV9TSVpFLCBJTUFHRV9TSVpFIC8vIFJlY3RhbmdsZSBkZXN0aW5hdGlvbiBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIC0tLSAzLiBEZXNzaW5lciBsZSB0ZXh0ZSBkZSBsJ2FubsOpZSAtLS1cbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0VG9EcmF3ID0geWVhci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGN0eC5mb250ID0gJzcwcHggXCJJbmRpZSBGbG93ZXJcIiwgY3Vyc2l2ZSwgc2Fucy1zZXJpZic7IFxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzMzMzMzMyc7IFxuICAgICAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQodGV4dFRvRHJhdywgRlJBTUVfV0lEVEggLyAyLCBGUkFNRV9IRUlHSFQgLSA4MCk7IFxuXG4gICAgICAgICAgICAgICAgLy8gLS0tIDQuIETDqWNsZW5jaGVyIGxlIHTDqWzDqWNoYXJnZW1lbnQgLS0tXG4gICAgICAgICAgICAgICAgY2FudmFzLnRvQmxvYigoYmxvYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgICAgICAgICBhLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSBgQ2hyb25vUG9sYXJvaWRfJHt5ZWFyfS5wbmdgO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICAgICAgICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gICAgICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsgXG4gICAgICAgICAgICAgICAgfSwgJ2ltYWdlL3BuZycpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKFwiRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudCBkZSBsJ2ltYWdlIHBvdXIgbGUgdMOpbMOpY2hhcmdlbWVudC5cIik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpbWcuc3JjID0gZGlzcGxheUltYWdlVVJMO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBMb2dpcXVlIGRlIGJhc2UgcG91ciBsJ2FwcGVsIMOgIGwnQVBJIGRlIGfDqW7DqXJhdGlvbiBkJ2ltYWdlcyAoZ2VtaW5pLTIuNS1mbGFzaC1pbWFnZS1wcmV2aWV3KVxuICAgICAgICAgIGNvbnN0IGNhbGxJbWFnZUdlbmVyYXRpb25BUEkgPSBhc3luYyAoaW5wdXRCYXNlNjQsIHByb21wdCkgPT4ge1xuICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKG51bGwpO1xuXG4gICAgICAgICAgICBjb25zdCBhcGlLZXkgPSBcIlwiOyBcbiAgICAgICAgICAgIGNvbnN0IGFwaVVybCA9IGBodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS92MWJldGEvbW9kZWxzL2dlbWluaS0yLjUtZmxhc2gtaW1hZ2UtcHJldmlldzpnZW5lcmF0ZUNvbnRlbnQ/a2V5PSR7YXBpS2V5fWA7XG5cbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgY29udGVudHM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0czogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdGV4dDogcHJvbXB0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogXCJpbWFnZS9wbmdcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBpbnB1dEJhc2U2NFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTW9kYWxpdGllczogWydJTUFHRSddXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IE1BWF9SRVRSSUVTID0gMztcbiAgICAgICAgICAgIGxldCBiYXNlNjREYXRhID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBhdHRlbXB0ID0gMDtcblxuICAgICAgICAgICAgd2hpbGUgKGF0dGVtcHQgPCBNQVhfUkVUUklFUykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgICAgIGJhc2U2NERhdGEgPSByZXN1bHQ/LmNhbmRpZGF0ZXM/LlswXT8uY29udGVudD8ucGFydHM/LmZpbmQocCA9PiBwLmlubGluZURhdGEpPy5pbmxpbmVEYXRhPy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhc2U2NERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgZGF0YTppbWFnZS9wbmc7YmFzZTY0LCR7YmFzZTY0RGF0YX1gO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gaW1hZ2UgZGF0YSByZXR1cm5lZCBmcm9tIEFQSS5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEF0dGVtcHQgJHthdHRlbXB0ICsgMX0gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW1wdCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ZW1wdCA8IE1BWF9SRVRSSUVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgTWF0aC5wb3coMiwgYXR0ZW1wdCkgKiAxMDAwKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gUmV0dXJuIG51bGwgb24gZmFpbHVyZVxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTG9naXF1ZSBwb3VyIGwnYXBwZWwgw6AgbCdBUEkgZGUgZ8OpbsOpcmF0aW9uIGRlIHRleHRlIChnZW1pbmktMi41LWZsYXNoLXByZXZpZXctMDktMjAyNSlcbiAgICAgICAgICBjb25zdCBjYWxsTExNVGV4dEFQSSA9IGFzeW5jICh1c2VyUXVlcnksIHN5c3RlbVByb21wdCkgPT4ge1xuICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKG51bGwpO1xuXG4gICAgICAgICAgICBjb25zdCBhcGlLZXkgPSBcIlwiOyBcbiAgICAgICAgICAgIGNvbnN0IGFwaVVybCA9IGBodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS92MWJldGEvbW9kZWxzL2dlbWluaS0yLjUtZmxhc2gtcHJldmlldy0wOS0yMDI1OmdlbmVyYXRlQ29udGVudD9rZXk9JHthcGlLZXl9YDtcblxuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICBjb250ZW50czogW3sgcGFydHM6IFt7IHRleHQ6IHVzZXJRdWVyeSB9XSB9XSxcbiAgICAgICAgICAgICAgICBzeXN0ZW1JbnN0cnVjdGlvbjogeyBwYXJ0czogW3sgdGV4dDogc3lzdGVtUHJvbXB0IH1dIH0sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBNQVhfUkVUUklFUyA9IDM7XG4gICAgICAgICAgICBsZXQgYXR0ZW1wdCA9IDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChhdHRlbXB0IDwgTUFYX1JFVFJJRVMpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKGBIVFRQIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gcmVzdWx0Py5jYW5kaWRhdGVzPy5bMF0/LmNvbnRlbnQ/LnBhcnRzPy5bMF0/LnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHQudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdGV4dCBkYXRhIHJldHVybmVkIGZyb20gTExNLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQXR0ZW1wdCAke2F0dGVtcHQgKyAxfSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBhdHRlbXB0Kys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0IDwgTUFYX1JFVFJJRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBNYXRoLnBvdygyLCBhdHRlbXB0KSAqIDEwMDApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIkltcG9zc2libGUgZGUgZ8OpbsOpcmVyIHVuZSBsw6lnZW5kZSBwb3VyIGxlIG1vbWVudC5cIjtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gR8OpbsOpcmVyIHVuZSBsw6lnZW5kZSBkJ8OpcG9xdWUgKExMTSBUZXh0IEZlYXR1cmUpXG4gICAgICAgICAgY29uc3QgaGFuZGxlR2VuZXJhdGVDYXB0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRGV2ZWxvcGluZyB8fCAhZWRpdGFibGVFcmFQcm9tcHQudHJpbSgpKSByZXR1cm47XG5cbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcHRpb24oJ0fDqW7DqXJhdGlvbiBkZSBsYSBsw6lnZW5kZS4uLicpO1xuICAgICAgICAgICAgc2V0SXNEZXZlbG9waW5nKHRydWUpO1xuXG4gICAgICAgICAgICBjb25zdCBzeXN0ZW1Qcm9tcHQgPSBgQWdpcyBjb21tZSB1biBhdXRldXIgZGUgcsOpY2l0cyBoaXN0b3JpcXVlIGV0IHJvbWFudGlxdWUuIENyw6llIHVuZSBsw6lnZW5kZSBjb3VydGUgZXQgcG/DqXRpcXVlIHBvdXIgdW5lIHBob3RvIGRlIGwnYW5uw6llICR7dGFyZ2V0WWVhcn0sIGJhc8OpZSBzdXIgbGUgY29udGV4dGUgZCfDqXBvcXVlIGZvdXJuaS4gTGUgdGV4dGUgZG9pdCDDqnRyZSDDqXZvY2F0ZXVyIGV0IHRlbmlyIGVuIHVuZSBvdSBkZXV4IHBocmFzZXMgY291cnRlcyBtYXhpbXVtLCBzYW5zIG1lbnRpb25uZXIgbGUgcHJvY2Vzc3VzIGQnSUEuYDtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJRdWVyeSA9IGBHw6luw6hyZSB1bmUgbMOpZ2VuZGUgcG91ciB1bmUgcGhvdG8gZGUgbCdhbm7DqWUgJHt0YXJnZXRZZWFyfSwgYXZlYyBsJ2FtYmlhbmNlIGV0IGxlcyBkw6l0YWlscyBzdWl2YW50czogJHtlZGl0YWJsZUVyYVByb21wdC50cmltKCl9LmA7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhcHRpb24gPSBhd2FpdCBjYWxsTExNVGV4dEFQSSh1c2VyUXVlcnksIHN5c3RlbVByb21wdCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcHRpb24oY2FwdGlvbik7XG4gICAgICAgICAgICBzZXRJc0RldmVsb3BpbmcoZmFsc2UpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBWb3lhZ2UgdGVtcG9yZWwgLyBSZWfDqW7DqXJhdGlvbiBkJ8OpcG9xdWVcbiAgICAgICAgICBjb25zdCBoYW5kbGVBcHBseVRpbWVUcmF2ZWwgPSBhc3luYyAoaXNSZWdlbmVyYXRlID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIGlmICghb3JpZ2luYWxJbWFnZUJhc2U2NCB8fCBpc0RldmVsb3BpbmcpIHJldHVybjtcbiAgICAgICAgICAgIGlmICghaXNSZWdlbmVyYXRlICYmIHllYXIgPT09IHRhcmdldFllYXIgJiYgZGlzcGxheUltYWdlVVJMICYmIGRpc3BsYXlJbWFnZVVSTC5pbmNsdWRlcyhvcmlnaW5hbEltYWdlQmFzZTY0KSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCFlZGl0YWJsZUVyYVByb21wdC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UoXCJWZXVpbGxleiBmb3VybmlyIHVuZSBkZXNjcmlwdGlvbiBkZSBsJ2FtYmlhbmNlIHBvdXIgbCfDqXBvcXVlLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldElzRGV2ZWxvcGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcHRpb24oJycpOyAvLyBFZmZhY2VyIGxhIGzDqWdlbmRlXG5cbiAgICAgICAgICAgIGNvbnN0IHVzZXJNb2RpZmllZFByb21wdCA9IGVkaXRhYmxlRXJhUHJvbXB0LnRyaW0oKTsgXG5cbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uUHJvbXB0ID0gYFRyYW5zZm9ybWV6IGwnaGFiaWxsZW1lbnQsIGxhIGNvaWZmdXJlIGV0IGwnYW1iaWFuY2UgZ8OpbsOpcmFsZSBkZSBjZXR0ZSBwaG90byBwb3VyIGNvcnJlc3BvbmRyZSBwcsOpY2lzw6ltZW50IGF1IHN0eWxlLCDDoCBsYSBtb2RlIGV0IGF1IGTDqWNvciBkZSBsJ2FubsOpZSAke3RhcmdldFllYXJ9LiBMJ2VzdGjDqXRpcXVlIGRvaXQgcmVmbMOpdGVyOiAke3VzZXJNb2RpZmllZFByb21wdH0uIEMnZXN0IGNydWNpYWwgOiBNYWludGVuZXogbGVzIHRyYWl0cyBldCBjYXJhY3TDqXJpc3RpcXVlcyBmYWNpYWxlcyBkZXMgcGVyc29ubmVzIGRlIGwnaW1hZ2Ugb3JpZ2luYWxlLiBBc3N1cmV6LXZvdXMgcXVlIGxhIG5vdXZlbGxlIGltYWdlIHNvaXQgZGUgaGF1dGUgcXVhbGl0w6kuYDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbmV3SW1hZ2VVcmwgPSBhd2FpdCBjYWxsSW1hZ2VHZW5lcmF0aW9uQVBJKG9yaWdpbmFsSW1hZ2VCYXNlNjQsIHRyYW5zZm9ybWF0aW9uUHJvbXB0KTtcblxuICAgICAgICAgICAgaWYgKG5ld0ltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgc2V0RGlzcGxheUltYWdlVVJMKG5ld0ltYWdlVXJsKTtcbiAgICAgICAgICAgICAgICBzZXRZZWFyKHRhcmdldFllYXIpOyAvLyBBcHBsaXF1ZXIgbCdhbm7DqWUgcG91ciBsZXMgZmlsdHJlcyBDU1NcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKFwiTGEgZ8OpbsOpcmF0aW9uIGQnaW1hZ2UgYSDDqWNob3XDqS4gQXBwbGljYXRpb24gZGVzIGZpbHRyZXMgQ1NTIHVuaXF1ZW1lbnQuXCIpO1xuICAgICAgICAgICAgICAgIHNldFllYXIodGFyZ2V0WWVhcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBzZXRJc0RldmVsb3BpbmcoZmFsc2UpOyB9LCA2MDApO1xuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTW9kaWZpY2F0aW9uIHBhciBQcm9tcHRcbiAgICAgICAgICBjb25zdCBoYW5kbGVBcHBseUN1c3RvbVByb21wdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IGN1c3RvbVByb21wdC50cmltKCk7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlJbWFnZVVSTCB8fCAhcHJvbXB0IHx8IGlzRGV2ZWxvcGluZykgcmV0dXJuO1xuXG4gICAgICAgICAgICBzZXRJc0RldmVsb3BpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXB0aW9uKCcnKTsgLy8gRWZmYWNlciBsYSBsw6lnZW5kZVxuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QmFzZTY0ID0gZGF0YVVSTHRvQmFzZTY0KGRpc3BsYXlJbWFnZVVSTCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxQcm9tcHQgPSBgRW4gdm91cyBiYXNhbnQgc3VyIGNldHRlIGltYWdlLCBhcHBsaXF1ZXogbGEgbW9kaWZpY2F0aW9uIHN1aXZhbnRlIDogXCIke3Byb21wdH1cIi4gQydlc3QgY3J1Y2lhbCA6IE1haW50ZW5leiBsZXMgdHJhaXRzIGV0IGNhcmFjdMOpcmlzdGlxdWVzIGZhY2lhbGVzIGRlcyBwZXJzb25uZXMgZGUgbCdpbWFnZSBvcmlnaW5hbGUuYDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbmV3SW1hZ2VVcmwgPSBhd2FpdCBjYWxsSW1hZ2VHZW5lcmF0aW9uQVBJKGN1cnJlbnRCYXNlNjQsIGZ1bGxQcm9tcHQpO1xuXG4gICAgICAgICAgICBpZiAobmV3SW1hZ2VVcmwpIHtcbiAgICAgICAgICAgICAgICBzZXREaXNwbGF5SW1hZ2VVUkwobmV3SW1hZ2VVcmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UoXCJMYSBtb2RpZmljYXRpb24gcGFyIHByb21wdCBhIMOpY2hvdcOpLiBWZXVpbGxleiByw6llc3NheWVyLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0Q3VzdG9tUHJvbXB0KCcnKTsgXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgc2V0SXNEZXZlbG9waW5nKGZhbHNlKTsgfSwgNjAwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBMb2dpcXVlIHBvdXIgbGEgZ8OpbsOpcmF0aW9uIGR1IHBsYW4gY2luw6ltYXRpcXVlIChJbWFnZSBWaWTDqW8gU3R5bGlzw6llKVxuICAgICAgICAgIGNvbnN0IGhhbmRsZUdlbmVyYXRlQ2luZW1hdGljRnJhbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm9tcHQgPSB2aWRlb1Byb21wdC50cmltKCk7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlJbWFnZVVSTCB8fCAhcHJvbXB0IHx8IGlzRGV2ZWxvcGluZykgcmV0dXJuO1xuXG4gICAgICAgICAgICBzZXRJc0RldmVsb3BpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRTaG93QW5pbWF0aW9uTW9kYWwoZmFsc2UpO1xuICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FwdGlvbignJyk7IC8vIEVmZmFjZXIgbGEgbMOpZ2VuZGVcblxuICAgICAgICAgICAgY29uc3QgY3VycmVudEJhc2U2NCA9IGRhdGFVUkx0b0Jhc2U2NChkaXNwbGF5SW1hZ2VVUkwpOyBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUHJvbXB0IG1pcyDDoCBqb3VyIHBvdXIgaW5zaXN0ZXIgc3VyIGxhIHF1YWxpdMOpIFwidmlkw6lvXCIgZXQgbCdhbWJpYW5jZVxuICAgICAgICAgICAgY29uc3QgY2luZW1hdGljUHJvbXB0ID0gYEVuIHZvdXMgYmFzYW50IHN1ciBjZXR0ZSBpbWFnZSwgY3LDqWV6IHVuZSBpbWFnZSB1bmlxdWUgKHVuICdwbGFuJykgZGUgdHLDqHMgaGF1dGUgcXVhbGl0w6ksIGF2ZWMgZGVzIGNvdWxldXJzIHJpY2hlcywgdW5lIHByb2ZvbmRldXIgZGUgY2hhbXAgZmFpYmxlIChib2tlaCksIGV0IHVuIMOpY2xhaXJhZ2UgZHJhbWF0aXF1ZSAoY2luw6ltYXRvZ3JhcGhpcXVlKS4gTGUgcGxhbiBkb2l0IGNhcHR1cmVyIGxlIG1vdXZlbWVudCBldCBsJ2FtYmlhbmNlIGRlIGNldHRlIHPDqXF1ZW5jZSB2aWTDqW8gOiBcIiR7cHJvbXB0fVwiLiBMZSBzdWpldCBkb2l0IGNvbnNlcnZlciBzZXMgdHJhaXRzIGZhY2lhdXggb3JpZ2luYXV4LiBBcHBsaXF1ZXogYXVzc2kgbGUgc3R5bGUgZXQgbGVzIGZpbHRyZXMgZCfDqXBvcXVlIHBvdXIgbCdhbm7DqWUgJHt5ZWFyfSBzdXIgbGUgcmVuZHUgZmluYWwuYDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbmV3SW1hZ2VVcmwgPSBhd2FpdCBjYWxsSW1hZ2VHZW5lcmF0aW9uQVBJKGN1cnJlbnRCYXNlNjQsIGNpbmVtYXRpY1Byb21wdCk7XG5cbiAgICAgICAgICAgIGlmIChuZXdJbWFnZVVybCkge1xuICAgICAgICAgICAgICAgIHNldERpc3BsYXlJbWFnZVVSTChuZXdJbWFnZVVybCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldEVycm9yTWVzc2FnZShcIkxhIGfDqW7DqXJhdGlvbiBkdSBwbGFuIGNpbsOpbWF0aXF1ZSBhIMOpY2hvdcOpLiBWZXVpbGxleiB2w6lyaWZpZXIgbGUgcHJvbXB0LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0VmlkZW9Qcm9tcHQoJycpOyBcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBzZXRJc0RldmVsb3BpbmcoZmFsc2UpOyB9LCA2MDApO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCBoYW5kbGVJbWFnZVVwbG9hZCA9IChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTtcbiAgICAgICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgc2V0T3JpZ2luYWxJbWFnZUJhc2U2NChkYXRhVVJMdG9CYXNlNjQoZGF0YVVybCkpO1xuICAgICAgICAgICAgICAgIHNldERpc3BsYXlJbWFnZVVSTChkYXRhVXJsKTtcbiAgICAgICAgICAgICAgICBzZXRZZWFyKDIwMjUpO1xuICAgICAgICAgICAgICAgIHNldFRhcmdldFllYXIoMjAyNSk7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKG51bGwpO1xuICAgICAgICAgICAgICAgIHNldEN1c3RvbVByb21wdCgnJyk7XG4gICAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FwdGlvbignJyk7XG4gICAgICAgICAgICAgICAgc2V0RWRpdGFibGVFcmFQcm9tcHQoZ2V0RXJhRGV0YWlscygyMDI1KS5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCBoYW5kbGVEcm9wID0gKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzPy5bMF07XG4gICAgICAgICAgICBpZiAoZmlsZSAmJiBmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICBzZXRPcmlnaW5hbEltYWdlQmFzZTY0KGRhdGFVUkx0b0Jhc2U2NChkYXRhVXJsKSk7XG4gICAgICAgICAgICAgICAgc2V0RGlzcGxheUltYWdlVVJMKGRhdGFVcmwpO1xuICAgICAgICAgICAgICAgIHNldFllYXIoMjAyNSk7XG4gICAgICAgICAgICAgICAgc2V0VGFyZ2V0WWVhcigyMDI1KTtcbiAgICAgICAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgc2V0Q3VzdG9tUHJvbXB0KCcnKTtcbiAgICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXB0aW9uKCcnKTtcbiAgICAgICAgICAgICAgICBzZXRFZGl0YWJsZUVyYVByb21wdChnZXRFcmFEZXRhaWxzKDIwMjUpLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIFJldG91ciDDoCBsJ2ltYWdlIG9yaWdpbmFsZVxuICAgICAgICAgIGNvbnN0IGhhbmRsZVJldHVyblRvT3JpZ2luYWwgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWxJbWFnZUJhc2U2NCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbWVUeXBlID0gb3JpZ2luYWxJbWFnZUJhc2U2NC5zdGFydHNXaXRoKCcvOWovJykgPyAnaW1hZ2UvanBlZycgOiAnaW1hZ2UvcG5nJztcbiAgICAgICAgICAgICAgICBzZXREaXNwbGF5SW1hZ2VVUkwoYGRhdGE6JHttaW1lVHlwZX07YmFzZTY0LCR7b3JpZ2luYWxJbWFnZUJhc2U2NH1gKTtcbiAgICAgICAgICAgICAgICBzZXRZZWFyKDIwMjUpO1xuICAgICAgICAgICAgICAgIHNldFRhcmdldFllYXIoMjAyNSk7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKG51bGwpO1xuICAgICAgICAgICAgICAgIHNldEN1c3RvbVByb21wdCgnJyk7XG4gICAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FwdGlvbignJyk7XG4gICAgICAgICAgICAgICAgc2V0RWRpdGFibGVFcmFQcm9tcHQoZ2V0RXJhRGV0YWlscygyMDI1KS5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVzZXRBcHAgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRPcmlnaW5hbEltYWdlQmFzZTY0KG51bGwpO1xuICAgICAgICAgICAgc2V0RGlzcGxheUltYWdlVVJMKG51bGwpO1xuICAgICAgICAgICAgc2V0WWVhcigyMDI1KTtcbiAgICAgICAgICAgIHNldFRhcmdldFllYXIoMjAyNSk7XG4gICAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UobnVsbCk7XG4gICAgICAgICAgICBzZXRDdXN0b21Qcm9tcHQoJycpO1xuICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FwdGlvbignJyk7XG4gICAgICAgICAgICBzZXRFZGl0YWJsZUVyYVByb21wdChnZXRFcmFEZXRhaWxzKDIwMjUpLmRlc2NyaXB0aW9uKTsgXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBjdXJyZW50RGlzcGxheVVSTCA9IGRpc3BsYXlJbWFnZVVSTDtcbiAgICAgICAgICBjb25zdCBpc1RyYW5zZm9ybWVkID0gY3VycmVudERpc3BsYXlVUkwgJiYgKHllYXIgIT09IDIwMjUgfHwgKGN1cnJlbnREaXNwbGF5VVJMICYmIG9yaWdpbmFsSW1hZ2VCYXNlNjQgJiYgIWN1cnJlbnREaXNwbGF5VVJMLmluY2x1ZGVzKG9yaWdpbmFsSW1hZ2VCYXNlNjQuc3Vic3RyaW5nKDAsIDEwMCkpKSk7XG5cbiAgICAgICAgICBjb25zdCBlcmFEZXRhaWxzID0gZ2V0RXJhRGV0YWlscyh0YXJnZXRZZWFyKTtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1uZXV0cmFsLTkwMCB0ZXh0LXdoaXRlIGZvbnQtc2FucyBzZWxlY3Rpb246Ymctcm9zZS01MDAgc2VsZWN0aW9uOnRleHQtd2hpdGUgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00IHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIE1PREFMIEQnQU5JTUFUSU9OIChEaWFsb2d1ZSBCb3gpICovfVxuICAgICAgICAgICAgICB7c2hvd0FuaW1hdGlvbk1vZGFsICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svODAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctbmV1dHJhbC04MDAgcC02IHJvdW5kZWQteGwgc2hhZG93LTJ4bCB3LWZ1bGwgbWF4LXctbWQgYm9yZGVyIGJvcmRlci1yb3NlLTUwMC81MFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgbWItNCB0ZXh0LXJvc2UtMzAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEZpbG0gc2l6ZT17MjB9IC8+IEfDqW7DqXJlciB1biBQbGFuIENpbsOpbWF0aXF1ZVxuICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbmV1dHJhbC00MDAgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgIETDqWNyaXZleiBsJ2FjdGlvbiwgbCfDqWNsYWlyYWdlLCBvdSBsZSBzdHlsZSBkZSBjYW3DqXJhICh6b29tLCBwYW5vcmFtaXF1ZSkgcG91ciBjcsOpZXIgdW5lIGltYWdlIHVuaXF1ZSBxdWkgc2ltdWxlIGNldHRlIHPDqXF1ZW5jZSB2aWTDqW8uXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3ZpZGVvUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VmlkZW9Qcm9tcHQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRXg6IFBsYW4gbGFyZ2UsIGxlIHN1amV0IG1hcmNoZSBkYW5zIGxhIGJydW1lLCBsdW1pw6hyZSBuYXR1cmVsbGUgZG91Y2UuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgIHJvd3M9XCI0XCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIGJnLW5ldXRyYWwtNzAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLW5ldXRyYWwtNjAwIGZvY3VzOnJpbmctcm9zZS01MDAgZm9jdXM6Ym9yZGVyLXJvc2UtNTAwIHRyYW5zaXRpb24tYWxsIHRleHQtc20gcmVzaXplLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1lbmQgZ2FwLTMgbXQtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgc2V0U2hvd0FuaW1hdGlvbk1vZGFsKGZhbHNlKTsgc2V0VmlkZW9Qcm9tcHQoJycpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHktMiBweC00IGJnLW5ldXRyYWwtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1uZXV0cmFsLTUwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNEZXZlbG9waW5nfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFubnVsZXJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVHZW5lcmF0ZUNpbmVtYXRpY0ZyYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF2aWRlb1Byb21wdC50cmltKCkgfHwgaXNEZXZlbG9waW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHktMiBweC00IGJnLXJvc2UtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyBmb250LXNlbWlib2xkIGhvdmVyOmJnLXJvc2UtNTAwIHRyYW5zaXRpb24tY29sb3JzIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIEfDqW7DqXJlciBsZSBQbGFuIENpbsOpbWF0aXF1ZVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIEJhY2tncm91bmQgRGVjb3IgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAgbGVmdC0wIHctZnVsbCBoLWZ1bGwgb3BhY2l0eS0xMCBwb2ludGVyLWV2ZW50cy1ub25lIGJnLVtyYWRpYWwtZ3JhZGllbnQoY2lyY2xlX2F0X2NlbnRlcixfdmFyKC0tdHctZ3JhZGllbnQtc3RvcHMpKV0gZnJvbS1yb3NlLTkwMCB2aWEtbmV1dHJhbC05MDAgdG8tYmxhY2tcIj48L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cIm1iLTggdGV4dC1jZW50ZXIgei0xMFwiPlxuICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtZDp0ZXh0LTV4bCBmb250LWJvbGQgYmctY2xpcC10ZXh0IHRleHQtdHJhbnNwYXJlbnQgYmctZ3JhZGllbnQtdG8tciBmcm9tLXJvc2UtNDAwIHRvLW9yYW5nZS0zMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxIaXN0b3J5IGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1yb3NlLTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgICBDaHJvbm88c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlXCI+UG9sYXJvaWQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW5ldXRyYWwtNDAwIG10LTIgdGV4dC1zbSBtZDp0ZXh0LWJhc2VcIj5Wb3lhZ2V6IGV0IG1vZGlmaWV6IHZvcyBwaG90b3MgKDE5MDAgLSAyMDI1KTwvcD5cbiAgICAgICAgICAgICAgPC9oZWFkZXI+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7ZXJyb3JNZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC05MDAvNTAgYm9yZGVyIGJvcmRlci1yZWQtNTAwIHRleHQtcmVkLTIwMCBwLTMgcm91bmRlZC1sZyBtYi00IHRleHQtc20gbWF4LXctbGcgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgQXR0ZW50aW9uOiB7ZXJyb3JNZXNzYWdlfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBsZzpmbGV4LXJvdyBnYXAtOCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy1mdWxsIG1heC13LTV4bCB6LTEwXCI+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIE1haW4gRGlzcGxheSBBcmVhIChQb2xhcm9pZCkgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCBwZXJzcGVjdGl2ZS0xMDAwXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZSBiZy13aGl0ZSBzaGFkb3ctMnhsIHAtNCBtZDpwLTYgcGItMTYgbWQ6cGItMjQgdHJhbnNmb3JtIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTUwMCBlYXNlLWluLW91dFxuICAgICAgICAgICAgICAgICAgICAgICR7Y3VycmVudERpc3BsYXlVUkwgPyAncm90YXRlLTEgaG92ZXI6cm90YXRlLTAgaG92ZXI6c2NhbGUtMTA1JyA6ICdyb3RhdGUtMCd9XG4gICAgICAgICAgICAgICAgICAgICAgdy1bMzIwcHhdIG1kOnctWzQwMHB4XSBtaW4taC1bNDUwcHhdIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXG4gICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGJveFNoYWRvdzogJzAgMjBweCA1MHB4IHJnYmEoMCwwLDAsMC41KScgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgey8qIFRleHR1cmUgcGFwaWVyIHBob3RvICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctbmV1dHJhbC0xMDAgb3BhY2l0eS0yMCBwb2ludGVyLWV2ZW50cy1ub25lIG1peC1ibGVuZC1tdWx0aXBseVwiPjwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBab25lIEltYWdlICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUgdy1mdWxsIGFzcGVjdC1zcXVhcmUgYmctbmV1dHJhbC0yMDAgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlciBib3JkZXItbmV1dHJhbC0xMDAgc2hhZG93LWlubmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAke2lzRHJhZ2dpbmcgPyAnYm9yZGVyLTQgYm9yZGVyLXJvc2UtNTAwIGJvcmRlci1kYXNoZWQnIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdPdmVyPXsoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCk7IHNldElzRHJhZ2dpbmcodHJ1ZSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgb25EcmFnTGVhdmU9eygpID0+IHNldElzRHJhZ2dpbmcoZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uRHJvcD17aGFuZGxlRHJvcH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAhY3VycmVudERpc3BsYXlVUkwgJiYgZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7IWN1cnJlbnREaXNwbGF5VVJMID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtbmV1dHJhbC00MDAgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctbmV1dHJhbC0xMDAgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbWVyYSBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgbWItNCBvcGFjaXR5LTUwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHgtNCBmb250LW1lZGl1bVwiPkNsaXF1ZXogb3UgZ2xpc3NleiB1bmUgcGhvdG8gaWNpPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogT3ZlcmxheSBkZSBkw6l2ZWxvcHBlbWVudCAoYmxhbmMgcXVpIHMnZXN0b21wZSkgLyBMb2FkaW5nICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzRGV2ZWxvcGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy13aGl0ZSB6LTIwIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtbmV1dHJhbC04MDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTcwMCBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgc2l6ZT17MjR9IGNsYXNzTmFtZT1cInctMTIgaC0xMiB0ZXh0LXJvc2UtNTAwIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IGZvbnQtc2VtaWJvbGRcIj5Wb3lhZ2UgdGVtcG9yZWwgZW4gY291cnMuLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGFic29sdXRlIGluc2V0LTAgYmctd2hpdGUgei0yMCB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tNzAwIHBvaW50ZXItZXZlbnRzLW5vbmUgJHtpc0RldmVsb3BpbmcgPyAnb3BhY2l0eS0xMDAnIDogJ29wYWNpdHktMCd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogTCdpbWFnZSBhdmVjIGxlcyBmaWx0cmVzIGFwcGxpcXXDqXMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtjdXJyZW50RGlzcGxheVVSTH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiVHJhbnNmb3JtZWQgY29udGVudFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTcwMCBlYXNlLWxpbmVhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZmlsdGVyOiBmaWx0ZXJzLmZpbHRlciB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIENvdWNoZXMgZCdlZmZldHMgc3VwZXJwb3PDqWVzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZSBtaXgtYmxlbmQtb3ZlcmxheSB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGZpbHRlcnMub3ZlcmxheUNvbG9yLCBvcGFjaXR5OiBmaWx0ZXJzLm92ZXJsYXlPcGFjaXR5IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBwb2ludGVyLWV2ZW50cy1ub25lIG1peC1ibGVuZC1tdWx0aXBseSBiZy1bcmFkaWFsLWdyYWRpZW50KGNpcmNsZSxfdHJhbnNwYXJlbnRfNTAlLF9ibGFja18xNTAlKV0gdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgb3BhY2l0eTogZmlsdGVycy52aWduZXR0ZSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZSBtaXgtYmxlbmQtb3ZlcmxheVwiIHN0eWxlPXt7IG9wYWNpdHk6IGZpbHRlcnMubm9pc2VPcGFjaXR5IH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmaWx0ZXIgaWQ9J25vaXNlRmlsdGVyJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmZVR1cmJ1bGVuY2UgdHlwZT0nZnJhY3RhbE5vaXNlJyBiYXNlRnJlcXVlbmN5PScwLjYnIHN0aXRjaFRpbGVzPSdzdGl0Y2gnLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9maWx0ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnIGZpbHRlcj0ndXJsKCNub2lzZUZpbHRlciknLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2NyYXRjaCBlZmZlY3QgZm9yIHZlcnkgb2xkIHBob3RvcyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3llYXIgPCAxOTIwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZSBvcGFjaXR5LTIwIG1peC1ibGVuZC1zY3JlZW4gYmctW3VybCgnaHR0cHM6Ly93d3cudHJhbnNwYXJlbnR0ZXh0dXJlcy5jb20vcGF0dGVybnMvc2NyYXRjaGVkLnBuZycpXVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIERhdGUgbWFudXNjcml0ZSAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tNiBtZDpib3R0b20tOCB3LWZ1bGwgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtM3hsIG1kOnRleHQtNXhsIHRleHQtbmV1dHJhbC04MDAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIHRyYW5zZm9ybVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ1wiSW5kaWUgRmxvd2VyXCIsIGN1cnNpdmUnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgcm90YXRlKCR7TWF0aC5yYW5kb20oKSAqIDIgLSAxfWRlZylgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBjdXJyZW50RGlzcGxheVVSTCAmJiAhaXNEZXZlbG9waW5nID8gMC45IDogMC4yXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt5ZWFyfVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogUGV0aXQgYm91dG9uIHJlc2V0ICovfVxuICAgICAgICAgICAgICAgICAgICB7Y3VycmVudERpc3BsYXlVUkwgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17cmVzZXRBcHB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTMgLXJpZ2h0LTMgYmctcm9zZS01MDAgdGV4dC13aGl0ZSBwLTIgcm91bmRlZC1mdWxsIHNoYWRvdy1sZyBob3ZlcjpiZy1yb3NlLTYwMCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBob3ZlcjpzY2FsZS0xMTAgei0zMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlRvdXQgZWZmYWNlclwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFJlZnJlc2hDdyBzaXplPXsxNn0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIENvbnRyb2xzIFBhbmVsICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kIGJnLW5ldXRyYWwtODAwLzUwIGJhY2tkcm9wLWJsdXItbWQgcC02IHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItbmV1dHJhbC03MDAgc2hhZG93LXhsIGZsZXggZmxleC1jb2wganVzdGlmeS1iZXR3ZWVuIG1pbi1oLVs0MDBweF1cIj5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1lbmQgbWItNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW5ldXRyYWwtNDAwIHRleHQtc20gZm9udC1tb25vIHVwcGVyY2FzZSB0cmFja2luZy13aWRlc3QgYmxvY2sgbWItMVwiPkRlc3RpbmF0aW9uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtM3hsIHRleHQtcm9zZS00MDAgZm9udC1ib2xkXCI+e3RhcmdldFllYXJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW5ldXRyYWwtNTAwIHRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIGJsb2NrXCI+QWN0dWVsPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbmV1dHJhbC0zMDAgZm9udC1tb25vXCI+e3llYXJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBTbGlkZXIgY29udHJvbGxpbmcgVEFSR0VUIFlFQVIgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOCByZWxhdGl2ZSBwdC02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIxOTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heD1cIjIwMjVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RhcmdldFllYXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRhcmdldFllYXIocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTIgYmctbmV1dHJhbC03MDAgcm91bmRlZC1sZyBhcHBlYXJhbmNlLW5vbmUgY3Vyc29yLXBvaW50ZXIgYWNjZW50LXJvc2UtNTAwIGhvdmVyOmFjY2VudC1yb3NlLTQwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcm9zZS01MDAvNTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LW5ldXRyYWwtNTAwIG10LTIgZm9udC1tb25vXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4xOTAwPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+MTk2MDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjIwMjU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIFRvb2x0aXAgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMiBweC0yIHB5LTEgYmctcm9zZS01MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgdHJhbnNmb3JtIC10cmFuc2xhdGUteC0xLzIgcG9pbnRlci1ldmVudHMtbm9uZSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi03NVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbGVmdDogYCR7KCh0YXJnZXRZZWFyIC0gMTkwMCkgLyAxMjUpICogMTAwfSVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RhcmdldFllYXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIE5PVVZFQVU6IERlc2NyaXB0aW9uIGRlIGwnw6lwb3F1ZSBDSUJMRSDDiWRpdGFibGUgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBwLTQgYmctYmxhY2svMzAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXdoaXRlLzVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1uZXV0cmFsLTMwMCBtYi0yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIHNpemU9ezE0fSBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy01MDBcIi8+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFtYmlhbmNlIHt0YXJnZXRZZWFyfSAoe2VyYURldGFpbHMubmFtZX0pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdGFibGVFcmFQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFZGl0YWJsZUVyYVByb21wdChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz1cIjRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0RldmVsb3Bpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBiZy1uZXV0cmFsLTcwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1uZXV0cmFsLTYwMCBmb2N1czpyaW5nLXJvc2UtNTAwIGZvY3VzOmJvcmRlci1yb3NlLTUwMCB0cmFuc2l0aW9uLWFsbCB0ZXh0LXNtIHJlc2l6ZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkTDqWNyaXZleiBpY2kgbGUgc3R5bGUgZXhhY3QgcXVlIGwnSUEgZG9pdCBhcHBsaXF1ZXIuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1uZXV0cmFsLTUwMCBtdC0yXCI+w4lkaXRleiBwb3VyIGFmZmluZXIgbGUgc3R5bGUgZGUgbCfDqXBvcXVlIGF2YW50IGRlIGfDqW7DqXJlci48L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IG10LThcIj5cbiAgICAgICAgICAgICAgICAgICAgIHsvKiBVcGxvYWQgSW5wdXQgKi99XG4gICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17ZmlsZUlucHV0UmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUltYWdlVXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgeyFvcmlnaW5hbEltYWdlQmFzZTY0ID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTQgYmctbmV1dHJhbC0xMDAgdGV4dC1uZXV0cmFsLTkwMCByb3VuZGVkLXhsIGZvbnQtYm9sZCBob3ZlcjpiZy13aGl0ZSB0cmFuc2l0aW9uLWFsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiBncm91cCBzaGFkb3ctbGcgc2hhZG93LXdoaXRlLzVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VXBsb2FkIHNpemU9ezIwfSBjbGFzc05hbWU9XCJncm91cC1ob3ZlcjotdHJhbnNsYXRlLXktMSB0cmFuc2l0aW9uLXRyYW5zZm9ybVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENoYXJnZXIgdW5lIHBob3RvXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQk9VVE9OIEQnQUNUSU9OIFBSSU5DSVBBTDogVm95YWdlIGRhbnMgbGUgdGVtcHMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBcHBseVRpbWVUcmF2ZWwoZmFsc2UpfSAvLyBQYXMgdW5lIHJlZ8OpbsOpcmF0aW9uIGZvcmPDqWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3llYXIgPT09IHRhcmdldFllYXIgfHwgaXNEZXZlbG9waW5nIHx8ICFlZGl0YWJsZUVyYVByb21wdC50cmltKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdy1mdWxsIHB5LTQgcm91bmRlZC14bCBmb250LWJvbGQgdGV4dC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMyB0cmFuc2l0aW9uLWFsbCB0cmFuc2Zvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7KHllYXIgPT09IHRhcmdldFllYXIgfHwgIWVkaXRhYmxlRXJhUHJvbXB0LnRyaW0oKSkgJiYgIWlzRGV2ZWxvcGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLW5ldXRyYWwtNzAwIHRleHQtbmV1dHJhbC01MDAgY3Vyc29yLW5vdC1hbGxvd2VkIG9wYWNpdHktNTAnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS1yb3NlLTUwMCB0by1vcmFuZ2UtNTAwIHRleHQtd2hpdGUgc2hhZG93LWxnIHNoYWRvdy1yb3NlLTUwMC8yMCBob3ZlcjpzY2FsZS1bMS4wMl0gaG92ZXI6c2hhZG93LXJvc2UtNTAwLzQwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtpc0RldmVsb3BpbmcgPyAnb3BhY2l0eS03MCBjdXJzb3Itd2FpdCcgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0RldmVsb3BpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBzaXplPXsyMH0gY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNmb3JtYXRpb24uLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiB5ZWFyID09PSB0YXJnZXRZZWFyID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+RMOpasOgIGVuIHt5ZWFyfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIHNpemU9ezIwfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIETDqXZlbG9wcGVyIGVuIHt0YXJnZXRZZWFyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogTGlnbmUgZGUgYm91dG9ucyBzZWNvbmRhaXJlcyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEJvdXRvbiBUw6lsw6ljaGFyZ2VyICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshY3VycmVudERpc3BsYXlVUkwgfHwgaXNEZXZlbG9waW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB5LTMgYmctbmV1dHJhbC03MDAgdGV4dC1uZXV0cmFsLTMwMCByb3VuZGVkLXhsIGZvbnQtbWVkaXVtIGhvdmVyOmJnLW5ldXRyYWwtNjAwIHRyYW5zaXRpb24tY29sb3JzIHRleHQtc20gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEb3dubG9hZCBzaXplPXsxNn0gLz4gVMOpbMOpY2hhcmdlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBOb3V2ZWF1IGJvdXRvbiBSZWfDqW7DqXJlciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQXBwbHlUaW1lVHJhdmVsKHRydWUpfSAvLyBSZWfDqW7DqXJhdGlvbiBmb3Jjw6llXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzVHJhbnNmb3JtZWQgfHwgaXNEZXZlbG9waW5nIHx8ICFlZGl0YWJsZUVyYVByb21wdC50cmltKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHktMyBiZy1uZXV0cmFsLTcwMCB0ZXh0LW5ldXRyYWwtMzAwIHJvdW5kZWQteGwgZm9udC1tZWRpdW0gaG92ZXI6YmctbmV1dHJhbC02MDAgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1zbSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMSBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQ3LDqWVyIHVuZSBub3V2ZWxsZSBpbnRlcnByw6l0YXRpb24gZGUgbGEgcGhvdG8gcG91ciBsJ2FubsOpZSBjb3VyYW50ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxXYW5kMiBzaXplPXsxNn0gLz4gUmVnw6luw6lyZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQm91dG9uIFJldG91ciDDoCBsJ29yaWdpbmFsIChzaSBsJ2ltYWdlIGVzdCB0cmFuc2Zvcm3DqWUpICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNUcmFuc2Zvcm1lZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJldHVyblRvT3JpZ2luYWx9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0RldmVsb3Bpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB5LTMgYmctbmV1dHJhbC03MDAgdGV4dC1uZXV0cmFsLTMwMCByb3VuZGVkLXhsIGZvbnQtbWVkaXVtIGhvdmVyOmJnLW5ldXRyYWwtNjAwIHRyYW5zaXRpb24tY29sb3JzIHRleHQtc20gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIaXN0b3J5IHNpemU9ezE2fSAvPiBPcmlnaW5hbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEJvdXRvbiBDaGFuZ2VyIHBob3RvICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNEZXZlbG9waW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHshaXNUcmFuc2Zvcm1lZCA/ICdmbGV4LTEnIDogJ3ctYXV0byBweC00J31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBweS0zIGJnLW5ldXRyYWwtNzAwIHRleHQtbmV1dHJhbC0zMDAgcm91bmRlZC14bCBmb250LW1lZGl1bSBob3ZlcjpiZy1uZXV0cmFsLTYwMCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LXNtIGRpc2FibGVkOm9wYWNpdHktNTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VXBsb2FkIHNpemU9ezE2fSBjbGFzc05hbWU9XCJtZDpoaWRkZW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIG1kOmlubGluZVwiPkNoYW5nZXIgcGhvdG88L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBOT1VWRUFVOiBHw6luw6lyZXIgTMOpZ2VuZGUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVHZW5lcmF0ZUNhcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0RldmVsb3BpbmcgfHwgIWVkaXRhYmxlRXJhUHJvbXB0LnRyaW0oKSB8fCAhY3VycmVudERpc3BsYXlVUkx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0zIGJnLXBpbmstNzAwIHRleHQtd2hpdGUgcm91bmRlZC14bCBmb250LXNlbWlib2xkIGhvdmVyOmJnLXBpbmstNjAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHRleHQtc20gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgc2hhZG93LW1kIHNoYWRvdy1waW5rLTcwMC8yMCBtdC00XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJHw6luw6lyZXIgdW5lIGzDqWdlbmRlIHBvw6l0aXF1ZSBiYXPDqWUgc3VyIGwnYW5uw6llIGV0IGwnYW1iaWFuY2UuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBzaXplPXsxNn0gLz4gR8OpbsOpcmVyIHVuZSBMw6lnZW5kZSBkJ8OJcG9xdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQWZmaWNoYWdlIGRlIGxhIGzDqWdlbmRlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZW5lcmF0ZWRDYXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYmctbmV1dHJhbC03MDAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXBpbmstNTAwLzUwIHRleHQteHMgdGV4dC1uZXV0cmFsLTMwMCBpdGFsaWMgd2hpdGVzcGFjZS1wcmUtd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dlbmVyYXRlZENhcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogWm9uZSBkZSBQcm9tcHQgUGVyc29ubmFsaXPDqSAoTW9kaWZpY2F0aW9uKSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgcHQtNCBib3JkZXItdCBib3JkZXItbmV1dHJhbC03MDAvNTAgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LW5ldXRyYWwtNDAwIHRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIGJsb2NrXCI+TW9kaWZpY2F0aW9uIFBlcnNvbm5hbGlzw6llIChJQSk8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21Qcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEN1c3RvbVByb21wdChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkV4OiBBam91dGVyIHVuIGNoYXBlYXUgcm91Z2UsIHRyYW5zZm9ybWVyIGwnYXJyacOocmUtcGxhbiBlbiBwbGFnZS4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPVwiMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNEZXZlbG9waW5nIHx8ICFjdXJyZW50RGlzcGxheVVSTH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYmctbmV1dHJhbC03MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItbmV1dHJhbC02MDAgZm9jdXM6cmluZy1yb3NlLTUwMCBmb2N1czpib3JkZXItcm9zZS01MDAgdHJhbnNpdGlvbi1hbGwgdGV4dC1zbSByZXNpemUtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQXBwbHlDdXN0b21Qcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWN1c3RvbVByb21wdC50cmltKCkgfHwgaXNEZXZlbG9waW5nIHx8ICFjdXJyZW50RGlzcGxheVVSTH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0zIGJnLW5ldXRyYWwtNjAwIHRleHQtd2hpdGUgcm91bmRlZC14bCBmb250LXNlbWlib2xkIGhvdmVyOmJnLW5ldXRyYWwtNTAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHRleHQtc20gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgc2hhZG93LW1kIHNoYWRvdy1uZXV0cmFsLTcwMC8yMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBzaXplPXsxNn0gLz4gQXBwbGlxdWVyIGxlIFByb21wdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQm91dG9uIEFuaW1lciBsYSBQaG90byAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QW5pbWF0aW9uTW9kYWwodHJ1ZSl9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNEZXZlbG9waW5nIHx8ICFjdXJyZW50RGlzcGxheVVSTH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTMgYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgZm9udC1zZW1pYm9sZCBob3ZlcjpiZy1wdXJwbGUtNTAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHRleHQtc20gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgc2hhZG93LW1kIHNoYWRvdy1wdXJwbGUtNzAwLzIwIG10LTRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkfDqW7DqXJlciB1bmUgaW1hZ2UgaGF1dGVtZW50IGNpbsOpbWF0b2dyYXBoaXF1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmlsbSBzaXplPXsxNn0gLz4gQW5pbWVyIGxhIFBob3RvIChQbGFuIFZpZMOpbylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb250YWdlIGRlIGwnYXBwbGljYXRpb24gUmVhY3RcbiAgICAgICAgUmVhY3RET00uY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKS5yZW5kZXIoPEFwcCAvPik7XG4gICAgIl0sIm1hcHBpbmdzIjoiOzswQkFDQSx1S0FBQUEsQ0FBQSxFQUFBQyxDQUFBLEVBQUFDLENBQUEsd0JBQUFDLE1BQUEsR0FBQUEsTUFBQSxPQUFBQyxDQUFBLEdBQUFGLENBQUEsQ0FBQUcsUUFBQSxrQkFBQUMsQ0FBQSxHQUFBSixDQUFBLENBQUFLLFdBQUEsOEJBQUFDLEVBQUFOLENBQUEsRUFBQUUsQ0FBQSxFQUFBRSxDQUFBLEVBQUFFLENBQUEsUUFBQUMsQ0FBQSxHQUFBTCxDQUFBLElBQUFBLENBQUEsQ0FBQU0sU0FBQSxZQUFBQyxTQUFBLEdBQUFQLENBQUEsR0FBQU8sU0FBQSxFQUFBQyxDQUFB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LGFBQUE7SUFBTXRELENBQUMsRUFBQztFQUFXLENBQUMsQ0FBQyxlQUFBcUQsS0FBQSxDQUFBQyxhQUFBO0lBQU10RCxDQUFDLEVBQUM7RUFBcUMsQ0FBQyxDQUFDLGVBQUFxRCxLQUFBLENBQUFDLGFBQUE7SUFBTXRELENBQUMsRUFBQztFQUFXLENBQUMsQ0FBQyxlQUFBcUQsS0FBQSxDQUFBQyxhQUFBO0lBQU10RCxDQUFDLEVBQUM7RUFBcUMsQ0FBQyxDQUFNLENBQUM7QUFBQTtBQUN0VyxJQUFNMEUsUUFBUSxHQUFHLFNBQVhBLFFBQVFBLENBQUl0QixLQUFLO0VBQUEsb0JBQUtDLEtBQUEsQ0FBQUMsYUFBQSxRQUFBTixRQUFBLEtBQVNJLEtBQUs7SUFBRUcsS0FBSyxFQUFDLDRCQUE0QjtJQUFDQyxLQUFLLEVBQUMsSUFBSTtJQUFDQyxNQUFNLEVBQUMsSUFBSTtJQUFDQyxPQUFPLEVBQUMsV0FBVztJQUFDQyxJQUFJLEVBQUMsTUFBTTtJQUFDQyxNQUFNLEVBQUMsY0FBYztJQUFDQyxXQUFXLEVBQUMsR0FBRztJQUFDQyxhQUFhLEVBQUMsT0FBTztJQUFDQyxjQUFjLEVBQUM7RUFBTyxpQkFBQ1YsS0FBQSxDQUFBQyxhQUFBO0lBQU10RCxDQUFDLEVBQUM7RUFBOEUsQ0FBQyxDQUFNLENBQUM7QUFBQTtBQUN2VCxJQUFNMkUsUUFBUSxHQUFHLFNBQVhBLFFBQVFBLENBQUl2QixLQUFLO0VBQUEsb0JBQUtDLEtBQUEsQ0FBQUMsYUFBQSxRQUFBTixRQUFBLEtBQVNJLEtBQUs7SUFBRUcsS0FBSyxFQUFDLDRCQUE0QjtJQUFDQyxLQUFLLEVBQUMsSUFBSTtJQUFDQyxNQUFNLEVBQUMsSUFBSTtJQUFDQyxPQUFPLEVBQUMsV0FBVztJQUFDQyxJQUFJLEVBQUMsTUFBTTtJQUFDQyxNQUFNLEVBQUMsY0FBYztJQUFDQyxXQUFXLEVBQUMsR0FBRztJQUFDQyxhQUFhLEVBQUMsT0FBTztJQUFDQyxjQUFjLEVBQUM7RUFBTyxpQkFBQ1YsS0FBQSxDQUFBQyxhQUFBO0lBQU10RCxDQUFDLEVBQUM7RUFB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</script></head>
<body>

    <div id="root"><div class="min-h-screen bg-neutral-900 text-white font-sans selection:bg-rose-500 selection:text-white flex flex-col items-center justify-center p-4 relative overflow-hidden"><div class="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-rose-900 via-neutral-900 to-black"></div><header class="mb-8 text-center z-10"><h1 class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 to-orange-300 flex items-center justify-center gap-3"><svg class="w-8 h-8 text-rose-400" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v6h6"></path><path d="M21.5 13a9 9 0 1 1-2.4-6.8l-1.3 1.3"></path><path d="M12 3v6h6"></path><path d="M21.5 13a9 9 0 1 1-2.4-6.8l-1.3 1.3"></path></svg>Chrono<span class="text-white">Polaroid</span></h1><p class="text-neutral-400 mt-2 text-sm md:text-base">Voyagez et modifiez vos photos (1900 - 2025)</p></header><div class="flex flex-col lg:flex-row gap-8 items-center justify-center w-full max-w-5xl z-10"><div class="relative group perspective-1000"><div class="
                      relative bg-white shadow-2xl p-4 md:p-6 pb-16 md:pb-24 transform transition-transform duration-500 ease-in-out
                      rotate-0
                      w-[320px] md:w-[400px] min-h-[450px] flex flex-col items-center justify-center
                    " style="box-shadow: rgba(0, 0, 0, 0.5) 0px 20px 50px;"><div class="absolute inset-0 bg-neutral-100 opacity-20 pointer-events-none mix-blend-multiply"></div><div class="
                        relative w-full aspect-square bg-neutral-200 overflow-hidden border border-neutral-100 shadow-inner
                        
                      "><div class="absolute inset-0 flex flex-col items-center justify-center text-neutral-400 cursor-pointer hover:bg-neutral-100 transition-colors"><svg class="w-16 h-16 mb-4 opacity-50" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 4h-4L9 2H5C3.9 2 3 2.9 3 4v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2h-4.5z"></path><circle cx="12" cy="13" r="3"></circle></svg><p class="text-center px-4 font-medium">Cliquez ou glissez une photo ici</p></div></div><div class="absolute bottom-6 md:bottom-8 w-full text-center"><p class="text-3xl md:text-5xl text-neutral-800 transition-all duration-300 transform" style="font-family: &quot;Indie Flower&quot;, cursive; transform: rotate(0.547974deg); opacity: 0.2;">2025</p></div></div></div><div class="w-full max-w-md bg-neutral-800/50 backdrop-blur-md p-6 rounded-2xl border border-neutral-700 shadow-xl flex flex-col justify-between min-h-[400px]"><div><div class="flex justify-between items-end mb-6"><div><span class="text-neutral-400 text-sm font-mono uppercase tracking-widest block mb-1">Destination</span><span class="text-3xl text-rose-400 font-bold">2025</span></div><div class="text-right"><span class="text-neutral-500 text-xs uppercase tracking-wider block">Actuel</span><span class="text-neutral-300 font-mono">2025</span></div></div><div class="mb-8 relative pt-6"><input type="range" min="1900" max="2025" class="w-full h-2 bg-neutral-700 rounded-lg appearance-none cursor-pointer accent-rose-500 hover:accent-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-500/50" value="2025"><div class="flex justify-between text-xs text-neutral-500 mt-2 font-mono"><span>1900</span><span>1960</span><span>2025</span></div><div class="absolute -top-2 px-2 py-1 bg-rose-500 text-white text-xs rounded transform -translate-x-1/2 pointer-events-none transition-all duration-75" style="left: 100%;">2025</div></div><div class="mt-2 p-4 bg-black/30 rounded-lg border border-white/5"><h3 class="text-sm font-semibold text-neutral-300 mb-2 flex items-center gap-2"><svg size="14" class="text-yellow-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 5l2 2 2-2M10 19l2-2 2 2M3 12h3M18 12h3M12 3v3M12 18v3M12 9l-3 3 3 3 3-3z"></path></svg>Ambiance 2025 (Tendance Actuelle) :</h3><textarea rows="4" class="w-full p-2 bg-neutral-700 text-white rounded-lg border border-neutral-600 focus:ring-rose-500 focus:border-rose-500 transition-all text-sm resize-none" placeholder="Décrivez ici le style exact que l&#39;IA doit appliquer...">Mode rapide (Fast Fashion), styles variés (Quiet Luxury, Vintage 90s), influence des réseaux, ambiance HD.</textarea><p class="text-xs text-neutral-500 mt-2">Éditez pour affiner le style de l'époque avant de générer.</p></div></div><div class="space-y-4 mt-8"><input type="file" accept="image/*" class="hidden"><button class="w-full py-4 bg-neutral-100 text-neutral-900 rounded-xl font-bold hover:bg-white transition-all flex items-center justify-center gap-2 group shadow-lg shadow-white/5"><svg size="20" class="group-hover:-translate-y-1 transition-transform" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>Charger une photo</button></div></div></div></div></div>

    <script type="text/babel">
        // Définition manuelle des icônes Lucide pour éviter les problèmes d'importation dans l'environnement Babel CDN
        const Upload = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>;
        const RefreshCw = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 2v6h-6"/><path d="M3 12a9 9 0 0 1 15-6.8l-1.3-1.3"/><path d="M3 22v-6h6"/><path d="M21 12a9 9 0 0 1-15 6.8l1.3 1.3"/></svg>;
        const Camera = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14.5 4h-4L9 2H5C3.9 2 3 2.9 3 4v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2h-4.5z"/><circle cx="12" cy="13" r="3"/></svg>;
        const History = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 2v6h6"/><path d="M21.5 13a9 9 0 1 1-2.4-6.8l-1.3 1.3"/><path d="M12 3v6h6"/><path d="M21.5 13a9 9 0 1 1-2.4-6.8l-1.3 1.3"/></svg>;
        const Sparkles = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M10 5l2 2 2-2M10 19l2-2 2 2M3 12h3M18 12h3M12 3v3M12 18v3M12 9l-3 3 3 3 3-3z"/></svg>;
        const Download = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>;
        const Wand2 = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M13 14l5-5 5 5-5 5z"/><path d="M2 22l7-7"/><path d="M10 6l-4 4"/><path d="M18 11l-4 4"/></svg>;
        const Film = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"/><line x1="7" y1="2" x2="7" y2="22"/><line x1="17" y1="2" x2="17" y2="22"/><line x1="2" y1="12" x2="22" y2="12"/><line x1="2" y1="7" x2="22" y2="7"/><line x1="2" y1="17" x2="22" y2="17"/></svg>;

        const { useState, useRef, useEffect, useCallback } = React;

        function App() {
          const [year, setYear] = useState(2025);
          const [targetYear, setTargetYear] = useState(2025);
          const [originalImageBase64, setOriginalImageBase64] = useState(null);
          const [displayImageURL, setDisplayImageURL] = useState(null);
          const [isDragging, setIsDragging] = useState(false);
          const [filters, setFilters] = useState({});
          const [isDeveloping, setIsDeveloping] = useState(false);
          const [errorMessage, setErrorMessage] = useState(null);
          const [customPrompt, setCustomPrompt] = useState('');
          const [editableEraPrompt, setEditableEraPrompt] = useState('');
          const [showAnimationModal, setShowAnimationModal] = useState(false);
          const [videoPrompt, setVideoPrompt] = useState('');
          const [generatedCaption, setGeneratedCaption] = useState('');
          const fileInputRef = useRef(null);

          // Fonction pour définir le thème précis de l'époque par blocs de 5 ans
          const getEraDetails = useCallback((currentYear) => {
            const eraMap = {
              1900: { name: "Belle Époque / Édouardien", description: "Ambiance formelle, corsets, costumes trois-pièces, chapeaux élaborés, début de l'automobile. Ambiance photo: sépia, grain." },
              1905: { name: "Transition Art Nouveau", description: "Lignes fluides, robes moins structurées, coiffures volumineuses, teintes douces, ambiance romantique." },
              1910: { name: "Pré-Guerre", description: "Tenues pratiques, uniformes militaires discrets, mode plus simple, coiffures relevées, début des couleurs pâles." },
              1915: { name: "Guerre Mondiale", description: "Vêtements utilitaires, silhouettes sévères, absence de faste, ambiance sombre et austère. Photo en noir et blanc." },
              1920: { name: "Années Folles (Flapper)", description: "Robes courtes, taille basse, coiffures au carré (bob), ambiance festive, jazz, art déco. Vêtements: style Flapper." },
              1925: { name: "Art Déco Rayonnant", description: "Couleurs riches (or, noir), géométrie, élégance sophistiquée, influence de l'Égypte, robes perlées." },
              1930: { name: "La Grande Dépression", description: "Lignes longues et fluides, épaules carrées, vêtements plus modestes, ambiance sérieuse et classique." },
              1935: { name: "Âge d'Or Hollywood", description: "Glamour, fourrures, robes de soirée scintillantes, coiffures ondulées, ambiance luxueuse et théâtrale." },
              1940: { name: "WWII Austérité", description: "Vêtements rationnés, jupes plissées courtes, tailleurs stricts, coiffures enroulées, ambiance militaire." },
              1945: { name: "Libération / Post-Guerre", description: "Retour aux couleurs, mode européenne, jupes plus longues, coiffures naturelles, optimisme prudent." },
              1950: { name: "New Look et Pin-up", description: "Taille marquée, jupes volumineuses, pantalons cigarette, rock'n'roll, couleurs pastel. Ambiance familiale, télévision." },
              1955: { name: "Prêt-à-porter", description: "Look plus casual, blousons en cuir, jeans, lunettes de soleil, influence adolescente, ambiance dynamique." },
              1960: { name: "Swinging London", description: "Mini-jupe, couleurs pop (fuchsia, orange), coupes géométriques, ambiance futuriste et jeune. Photo en couleur saturée." },
              1965: { name: "Pop Culture / Hippie", description: "Transition vers les imprimés psychédéliques, robes trapèze, bottes hautes, lunettes rondes, esprit libre." },
              1970: { name: "Flower Power / Boho", description: "Pattes d'eph, chemises à fleurs, tissus naturels, cheveux longs, ambiance bohème et décontractée." },
              1975: { name: "Disco et Glam Rock", description: "Paillettes, satin, combinaisons, talons plateforme, coupes afro, ambiance nuit et clubbing." },
              1980: { name: "Puissance 80s", description: "Épaules rembourrées, couleurs fluo, lycra, coiffures volumineuses, ambiance fitness et business." },
              1985: { name: "New Wave et Rock", description: "Jeans déchirés, vestes en cuir, coiffures asymétriques, ambiance rebelle et underground." },
              1990: { name: "Grunge et Minimalisme", description: "Chemises à carreaux, Doc Martens, silhouettes amples, couleurs neutres/sombres, ambiance anti-mode. Photo avec grain." },
              1995: { name: "Pop Culture 90s / R&B", description: "Crop tops, jeans taille haute, survêtements, ambiance MTV, couleurs vives, minimalisme chic." },
              2000: { name: "Y2K et Numérique", description: "Jeans taille basse, hauts courts, couleurs métalliques, chaussures massives, ambiance futuriste/numérique." },
              2005: { name: "Post-Grunge / Emo", description: "Cheveux lissés, jeans slim, t-shirts graphiques, ambiance sombre et mélancolique. Photo en faible contraste." },
              2010: { name: "Hipster et Rétro", description: "Barbes, lunettes rétro, vêtements d'occasion, look décontracté-effort, ambiance artisanale." },
              2015: { name: "Athleisure et Tech", description: "Vêtements de sport, minimalisme, couleurs sourdes, appareils technologiques visibles, ambiance urbaine." },
              2020: { name: "Confort et Pastel", description: "Vêtements de confort (sweats, joggings), couleurs pastel douces, coiffures naturelles, ambiance cocooning." },
              2025: { name: "Tendance Actuelle", description: "Mode rapide (Fast Fashion), styles variés (Quiet Luxury, Vintage 90s), influence des réseaux, ambiance HD." },
            };

            // Calcule le début du bloc de 5 ans (ex: 1968 -> 1965)
            let startYear = Math.floor(currentYear / 5) * 5;
            
            // Assure les limites
            if (startYear < 1900) startYear = 1900;
            if (currentYear >= 2025) startYear = 2025;
            
            // Récupère les détails de l'époque. 
            const details = eraMap[startYear] || eraMap[2025];
            
            // Combine le nom et la description pour le prompt de l'IA (UTILISÉ pour l'initialisation)
            details.fullDescription = `${details.name}. ${details.description}`;
            return details;
          }, []);

          // Met à jour le prompt éditable lorsque l'année cible change
          useEffect(() => {
            const eraDetails = getEraDetails(targetYear);
            setEditableEraPrompt(eraDetails.description);
          }, [targetYear, getEraDetails]);


          // Logique de génération des filtres CSS selon l'année APPLIQUÉE (year)
          useEffect(() => {
            const calculateFilters = (currentYear) => {
              let style = { filter: '', overlayColor: 'transparent', overlayOpacity: 0, noiseOpacity: 0, vignette: 0 };
              if (currentYear <= 1920) {
                style.filter = `sepia(0.8) grayscale(1) contrast(1.2) brightness(0.9) blur(0.5px)`;
                style.noiseOpacity = 0.5;
                style.vignette = 0.6;
                style.overlayColor = '#5a4030';
                style.overlayOpacity = 0.2;
              } else if (currentYear <= 1950) {
                const progress = (currentYear - 1920) / 30;
                style.filter = `grayscale(1) contrast(1.3) brightness(1.1) sepia(${0.3 - progress * 0.3})`;
                style.noiseOpacity = 0.3;
                style.vignette = 0.4;
              } else if (currentYear <= 1975) {
                const progress = (currentYear - 1950) / 25;
                style.filter = `saturate(${1 + progress * 0.8}) sepia(0.2) contrast(1.1) hue-rotate(-10deg)`;
                style.overlayColor = '#ffd700';
                style.overlayOpacity = 0.15;
                style.noiseOpacity = 0.2;
                style.vignette = 0.3;
              } else if (currentYear <= 1995) {
                style.filter = `saturate(0.9) contrast(1.15) brightness(1.05)`;
                style.overlayColor = '#800080';
                style.overlayOpacity = 0.05;
                style.noiseOpacity = 0.15;
              } else if (currentYear <= 2010) {
                style.filter = `saturate(1.1) contrast(1.05)`;
                style.noiseOpacity = 0.05;
              } else {
                style.filter = `none`;
                style.noiseOpacity = 0;
              }
              setFilters(style);
            };

            calculateFilters(year);
          }, [year]);

          // Convertit Data URL en Base64 (pour l'API)
          const dataURLtoBase64 = (dataURL) => dataURL.split(',')[1];
          
          // Fonction de téléchargement mise à jour pour inclure le cadre (via Canvas) et cadrage optimisé
          const handleDownload = () => {
            if (!displayImageURL) {
                setErrorMessage("Veuillez charger ou générer une image avant de télécharger.");
                return;
            }

            const canvas = document.createElement('canvas');
            const FRAME_WIDTH = 800; 
            const FRAME_HEIGHT = 1000;
            const IMAGE_SIZE = 700;
            const PADDING_X = (FRAME_WIDTH - IMAGE_SIZE) / 2;
            const PADDING_TOP = PADDING_X;
            
            canvas.width = FRAME_WIDTH;
            canvas.height = FRAME_HEIGHT;
            const ctx = canvas.getContext('2d');

            // --- 1. Dessiner le cadre Polaroid blanc (Fond) ---
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(0, 0, FRAME_WIDTH, FRAME_HEIGHT);

            // --- 2. Charger et dessiner l'image ---
            const img = new Image();
            
            img.onload = () => {
                let cropSize;
                let sourceX = 0;
                let sourceY = 0;

                if (img.width > img.height) { 
                    // Paysage (plus large) : Recadrage des côtés (centré horizontalement)
                    cropSize = img.height;
                    sourceX = (img.width - img.height) / 2; 
                } else { 
                    // Portrait (plus haut) ou Carré : Recadrage du bas (priorité au haut/visages)
                    cropSize = img.width;
                    sourceY = 0; // Commence en haut (le visage est conservé)
                }

                ctx.drawImage(
                    img, 
                    sourceX, sourceY, cropSize, cropSize, // Rectangle source 
                    PADDING_X, PADDING_TOP, IMAGE_SIZE, IMAGE_SIZE // Rectangle destination 
                );
                
                // --- 3. Dessiner le texte de l'année ---
                const textToDraw = year.toString();
                ctx.font = '70px "Indie Flower", cursive, sans-serif'; 
                ctx.fillStyle = '#333333'; 
                ctx.textAlign = 'center';
                ctx.fillText(textToDraw, FRAME_WIDTH / 2, FRAME_HEIGHT - 80); 

                // --- 4. Déclencher le téléchargement ---
                canvas.toBlob((blob) => {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `ChronoPolaroid_${year}.png`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url); 
                }, 'image/png');
            };
            
            img.onerror = () => {
                setErrorMessage("Erreur lors du chargement de l'image pour le téléchargement.");
            };
            
            img.src = displayImageURL;
          };

          // Logique de base pour l'appel à l'API de génération d'images (gemini-2.5-flash-image-preview)
          const callImageGenerationAPI = async (inputBase64, prompt) => {
            setErrorMessage(null);

            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image-preview:generateContent?key=${apiKey}`;

            const payload = {
                contents: [
                    {
                        role: "user",
                        parts: [
                            { text: prompt },
                            {
                                inlineData: {
                                    mimeType: "image/png", 
                                    data: inputBase64
                                }
                            }
                        ]
                    }
                ],
                generationConfig: {
                    responseModalities: ['IMAGE']
                },
            };

            const MAX_RETRIES = 3;
            let base64Data = null;
            let attempt = 0;

            while (attempt < MAX_RETRIES) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    
                    if (!response.ok) throw new Error(`HTTP status: ${response.status}`);

                    const result = await response.json();
                    base64Data = result?.candidates?.[0]?.content?.parts?.find(p => p.inlineData)?.inlineData?.data;
                    
                    if (base64Data) {
                        return `data:image/png;base64,${base64Data}`;
                    } else {
                        throw new Error("No image data returned from API.");
                    }

                } catch (error) {
                    console.error(`Attempt ${attempt + 1} failed:`, error);
                    attempt++;
                    if (attempt < MAX_RETRIES) {
                        await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt) * 1000));
                    }
                }
            }
            return null; // Return null on failure
          };
          
          // Logique pour l'appel à l'API de génération de texte (gemini-2.5-flash-preview-09-2025)
          const callLLMTextAPI = async (userQuery, systemPrompt) => {
            setErrorMessage(null);

            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };

            const MAX_RETRIES = 3;
            let attempt = 0;

            while (attempt < MAX_RETRIES) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    
                    if (!response.ok) throw new Error(`HTTP status: ${response.status}`);

                    const result = await response.json();
                    const text = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                    
                    if (text) {
                        return text.trim();
                    } else {
                        throw new Error("No text data returned from LLM.");
                    }

                } catch (error) {
                    console.error(`Attempt ${attempt + 1} failed:`, error);
                    attempt++;
                    if (attempt < MAX_RETRIES) {
                        await new Promise(resolve => setTimeout(resolve, Math.pow(2, attempt) * 1000));
                    }
                }
            }
            return "Impossible de générer une légende pour le moment.";
          };

          // Générer une légende d'époque (LLM Text Feature)
          const handleGenerateCaption = async () => {
            if (isDeveloping || !editableEraPrompt.trim()) return;

            setGeneratedCaption('Génération de la légende...');
            setIsDeveloping(true);

            const systemPrompt = `Agis comme un auteur de récits historique et romantique. Crée une légende courte et poétique pour une photo de l'année ${targetYear}, basée sur le contexte d'époque fourni. Le texte doit être évocateur et tenir en une ou deux phrases courtes maximum, sans mentionner le processus d'IA.`;
            const userQuery = `Génère une légende pour une photo de l'année ${targetYear}, avec l'ambiance et les détails suivants: ${editableEraPrompt.trim()}.`;

            const caption = await callLLMTextAPI(userQuery, systemPrompt);
            
            setGeneratedCaption(caption);
            setIsDeveloping(false);
          };

          // Voyage temporel / Regénération d'époque
          const handleApplyTimeTravel = async (isRegenerate = false) => {
            if (!originalImageBase64 || isDeveloping) return;
            if (!isRegenerate && year === targetYear && displayImageURL && displayImageURL.includes(originalImageBase64)) return;
            if (!editableEraPrompt.trim()) {
                setErrorMessage("Veuillez fournir une description de l'ambiance pour l'époque.");
                return;
            }

            setIsDeveloping(true);
            setGeneratedCaption(''); // Effacer la légende

            const userModifiedPrompt = editableEraPrompt.trim(); 

            const transformationPrompt = `Transformez l'habillement, la coiffure et l'ambiance générale de cette photo pour correspondre précisément au style, à la mode et au décor de l'année ${targetYear}. L'esthétique doit refléter: ${userModifiedPrompt}. C'est crucial : Maintenez les traits et caractéristiques faciales des personnes de l'image originale. Assurez-vous que la nouvelle image soit de haute qualité.`;
            
            const newImageUrl = await callImageGenerationAPI(originalImageBase64, transformationPrompt);

            if (newImageUrl) {
                setDisplayImageURL(newImageUrl);
                setYear(targetYear); // Appliquer l'année pour les filtres CSS
            } else {
                setErrorMessage("La génération d'image a échoué. Application des filtres CSS uniquement.");
                setYear(targetYear);
            }

            setTimeout(() => { setIsDeveloping(false); }, 600);
          };
          
          // Modification par Prompt
          const handleApplyCustomPrompt = async () => {
            const prompt = customPrompt.trim();
            if (!displayImageURL || !prompt || isDeveloping) return;

            setIsDeveloping(true);
            setGeneratedCaption(''); // Effacer la légende

            const currentBase64 = dataURLtoBase64(displayImageURL);
            
            const fullPrompt = `En vous basant sur cette image, appliquez la modification suivante : "${prompt}". C'est crucial : Maintenez les traits et caractéristiques faciales des personnes de l'image originale.`;
            
            const newImageUrl = await callImageGenerationAPI(currentBase64, fullPrompt);

            if (newImageUrl) {
                setDisplayImageURL(newImageUrl);
            } else {
                setErrorMessage("La modification par prompt a échoué. Veuillez réessayer.");
            }
            
            setCustomPrompt(''); 
            setTimeout(() => { setIsDeveloping(false); }, 600);
          }

          // Logique pour la génération du plan cinématique (Image Vidéo Stylisée)
          const handleGenerateCinematicFrame = async () => {
            const prompt = videoPrompt.trim();
            if (!displayImageURL || !prompt || isDeveloping) return;

            setIsDeveloping(true);
            setShowAnimationModal(false);
            setGeneratedCaption(''); // Effacer la légende

            const currentBase64 = dataURLtoBase64(displayImageURL); 
            
            // Prompt mis à jour pour insister sur la qualité "vidéo" et l'ambiance
            const cinematicPrompt = `En vous basant sur cette image, créez une image unique (un 'plan') de très haute qualité, avec des couleurs riches, une profondeur de champ faible (bokeh), et un éclairage dramatique (cinématographique). Le plan doit capturer le mouvement et l'ambiance de cette séquence vidéo : "${prompt}". Le sujet doit conserver ses traits faciaux originaux. Appliquez aussi le style et les filtres d'époque pour l'année ${year} sur le rendu final.`;
            
            const newImageUrl = await callImageGenerationAPI(currentBase64, cinematicPrompt);

            if (newImageUrl) {
                setDisplayImageURL(newImageUrl);
            } else {
                setErrorMessage("La génération du plan cinématique a échoué. Veuillez vérifier le prompt.");
            }
            
            setVideoPrompt(''); 
            setTimeout(() => { setIsDeveloping(false); }, 600);
          };

          const handleImageUpload = (e) => {
            const file = e.target.files?.[0];
            if (file) {
              const reader = new FileReader();
              reader.onload = (e) => {
                const dataUrl = e.target.result;
                setOriginalImageBase64(dataURLtoBase64(dataUrl));
                setDisplayImageURL(dataUrl);
                setYear(2025);
                setTargetYear(2025);
                setErrorMessage(null);
                setCustomPrompt('');
                setGeneratedCaption('');
                setEditableEraPrompt(getEraDetails(2025).description);
              };
              reader.readAsDataURL(file);
            }
          };

          const handleDrop = (e) => {
            e.preventDefault();
            setIsDragging(false);
            const file = e.dataTransfer.files?.[0];
            if (file && file.type.startsWith('image/')) {
              const reader = new FileReader();
              reader.onload = (e) => {
                const dataUrl = e.target.result;
                setOriginalImageBase64(dataURLtoBase64(dataUrl));
                setDisplayImageURL(dataUrl);
                setYear(2025);
                setTargetYear(2025);
                setErrorMessage(null);
                setCustomPrompt('');
                setGeneratedCaption('');
                setEditableEraPrompt(getEraDetails(2025).description);
              };
              reader.readAsDataURL(file);
            }
          };

          // Retour à l'image originale
          const handleReturnToOriginal = () => {
            if (originalImageBase64) {
                const mimeType = originalImageBase64.startsWith('/9j/') ? 'image/jpeg' : 'image/png';
                setDisplayImageURL(`data:${mimeType};base64,${originalImageBase64}`);
                setYear(2025);
                setTargetYear(2025);
                setErrorMessage(null);
                setCustomPrompt('');
                setGeneratedCaption('');
                setEditableEraPrompt(getEraDetails(2025).description);
            }
          }

          const resetApp = () => {
            setOriginalImageBase64(null);
            setDisplayImageURL(null);
            setYear(2025);
            setTargetYear(2025);
            setErrorMessage(null);
            setCustomPrompt('');
            setGeneratedCaption('');
            setEditableEraPrompt(getEraDetails(2025).description); 
          };
          
          const currentDisplayURL = displayImageURL;
          const isTransformed = currentDisplayURL && (year !== 2025 || (currentDisplayURL && originalImageBase64 && !currentDisplayURL.includes(originalImageBase64.substring(0, 100))));

          const eraDetails = getEraDetails(targetYear);

          return (
            <div className="min-h-screen bg-neutral-900 text-white font-sans selection:bg-rose-500 selection:text-white flex flex-col items-center justify-center p-4 relative overflow-hidden">
              
              {/* MODAL D'ANIMATION (Dialogue Box) */}
              {showAnimationModal && (
                <div className="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4">
                  <div className="bg-neutral-800 p-6 rounded-xl shadow-2xl w-full max-w-md border border-rose-500/50">
                    <h2 className="text-xl font-bold mb-4 text-rose-300 flex items-center gap-2">
                      <Film size={20} /> Générer un Plan Cinématique
                    </h2>
                    <p className="text-sm text-neutral-400 mb-4">
                      Décrivez l'action, l'éclairage, ou le style de caméra (zoom, panoramique) pour créer une image unique qui simule cette séquence vidéo.
                    </p>
                    <textarea
                      value={videoPrompt}
                      onChange={(e) => setVideoPrompt(e.target.value)}
                      placeholder="Ex: Plan large, le sujet marche dans la brume, lumière naturelle douce..."
                      rows="4"
                      className="w-full p-3 bg-neutral-700 text-white rounded-lg border border-neutral-600 focus:ring-rose-500 focus:border-rose-500 transition-all text-sm resize-none"
                    />
                    <div className="flex justify-end gap-3 mt-4">
                      <button
                        onClick={() => { setShowAnimationModal(false); setVideoPrompt(''); }}
                        className="py-2 px-4 bg-neutral-600 text-white rounded-lg hover:bg-neutral-500 transition-colors"
                        disabled={isDeveloping}
                      >
                        Annuler
                      </button>
                      <button
                        onClick={handleGenerateCinematicFrame}
                        disabled={!videoPrompt.trim() || isDeveloping}
                        className="py-2 px-4 bg-rose-600 text-white rounded-lg font-semibold hover:bg-rose-500 transition-colors disabled:opacity-50"
                      >
                        Générer le Plan Cinématique
                      </button>
                    </div>
                  </div>
                </div>
              )}
              
              {/* Background Decor */}
              <div className="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-rose-900 via-neutral-900 to-black"></div>

              {/* Header */}
              <header className="mb-8 text-center z-10">
                <h1 className="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-rose-400 to-orange-300 flex items-center justify-center gap-3">
                  <History className="w-8 h-8 text-rose-400" />
                  Chrono<span className="text-white">Polaroid</span>
                </h1>
                <p className="text-neutral-400 mt-2 text-sm md:text-base">Voyagez et modifiez vos photos (1900 - 2025)</p>
              </header>
              
              {errorMessage && (
                <div className="bg-red-900/50 border border-red-500 text-red-200 p-3 rounded-lg mb-4 text-sm max-w-lg text-center">
                    Attention: {errorMessage}
                </div>
              )}

              <div className="flex flex-col lg:flex-row gap-8 items-center justify-center w-full max-w-5xl z-10">
                
                {/* Main Display Area (Polaroid) */}
                <div className="relative group perspective-1000">
                  <div 
                    className={`
                      relative bg-white shadow-2xl p-4 md:p-6 pb-16 md:pb-24 transform transition-transform duration-500 ease-in-out
                      ${currentDisplayURL ? 'rotate-1 hover:rotate-0 hover:scale-105' : 'rotate-0'}
                      w-[320px] md:w-[400px] min-h-[450px] flex flex-col items-center justify-center
                    `}
                    style={{ boxShadow: '0 20px 50px rgba(0,0,0,0.5)' }}
                  >
                    {/* Texture papier photo */}
                    <div className="absolute inset-0 bg-neutral-100 opacity-20 pointer-events-none mix-blend-multiply"></div>

                    {/* Zone Image */}
                    <div 
                      className={`
                        relative w-full aspect-square bg-neutral-200 overflow-hidden border border-neutral-100 shadow-inner
                        ${isDragging ? 'border-4 border-rose-500 border-dashed' : ''}
                      `}
                      onDragOver={(e) => { e.preventDefault(); setIsDragging(true); }}
                      onDragLeave={() => setIsDragging(false)}
                      onDrop={handleDrop}
                      onClick={() => !currentDisplayURL && fileInputRef.current?.click()}
                    >
                      {!currentDisplayURL ? (
                        <div className="absolute inset-0 flex flex-col items-center justify-center text-neutral-400 cursor-pointer hover:bg-neutral-100 transition-colors">
                          <Camera className="w-16 h-16 mb-4 opacity-50" />
                          <p className="text-center px-4 font-medium">Cliquez ou glissez une photo ici</p>
                        </div>
                      ) : (
                        <>
                           {/* Overlay de développement (blanc qui s'estompe) / Loading */}
                           {isDeveloping && (
                                <div className="absolute inset-0 bg-white z-20 flex flex-col items-center justify-center text-neutral-800 transition-opacity duration-700 pointer-events-none">
                                    <Sparkles size={24} className="w-12 h-12 text-rose-500 animate-spin" />
                                    <p className="mt-4 font-semibold">Voyage temporel en cours...</p>
                                </div>
                           )}
                           <div 
                                className={`absolute inset-0 bg-white z-20 transition-opacity duration-700 pointer-events-none ${isDeveloping ? 'opacity-100' : 'opacity-0'}`}
                           ></div>

                          {/* L'image avec les filtres appliqués */}
                          <img 
                            src={currentDisplayURL} 
                            alt="Transformed content" 
                            className="w-full h-full object-cover transition-all duration-700 ease-linear"
                            style={{ filter: filters.filter }}
                          />
                          
                          {/* Couches d'effets superposées */}
                          <div 
                            className="absolute inset-0 pointer-events-none mix-blend-overlay transition-opacity duration-500"
                            style={{ backgroundColor: filters.overlayColor, opacity: filters.overlayOpacity }}
                          />
                          <div 
                            className="absolute inset-0 pointer-events-none mix-blend-multiply bg-[radial-gradient(circle,_transparent_50%,_black_150%)] transition-opacity duration-500"
                            style={{ opacity: filters.vignette }}
                          />
                          <div className="absolute inset-0 pointer-events-none mix-blend-overlay" style={{ opacity: filters.noiseOpacity }}>
                             <svg width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'>
                                <filter id='noiseFilter'>
                                    <feTurbulence type='fractalNoise' baseFrequency='0.6' stitchTiles='stitch'/>
                                </filter>
                                <rect width='100%' height='100%' filter='url(#noiseFilter)'/>
                            </svg>
                          </div>
                          
                          {/* Scratch effect for very old photos */}
                          {year < 1920 && (
                            <div className="absolute inset-0 pointer-events-none opacity-20 mix-blend-screen bg-[url('https://www.transparenttextures.com/patterns/scratched.png')]"></div>
                          )}
                        </>
                      )}
                    </div>

                    {/* Date manuscrite */}
                    <div className="absolute bottom-6 md:bottom-8 w-full text-center">
                      <p 
                        className="text-3xl md:text-5xl text-neutral-800 transition-all duration-300 transform"
                        style={{ 
                          fontFamily: '"Indie Flower", cursive', 
                          transform: `rotate(${Math.random() * 2 - 1}deg)`,
                          opacity: currentDisplayURL && !isDeveloping ? 0.9 : 0.2
                        }}
                      >
                        {year}
                      </p>
                    </div>
                    
                    {/* Petit bouton reset */}
                    {currentDisplayURL && (
                       <button 
                        onClick={resetApp}
                        className="absolute -top-3 -right-3 bg-rose-500 text-white p-2 rounded-full shadow-lg hover:bg-rose-600 transition-transform hover:scale-110 z-30"
                        title="Tout effacer"
                      >
                        <RefreshCw size={16} />
                      </button>
                    )}
                  </div>
                </div>

                {/* Controls Panel */}
                <div className="w-full max-w-md bg-neutral-800/50 backdrop-blur-md p-6 rounded-2xl border border-neutral-700 shadow-xl flex flex-col justify-between min-h-[400px]">
                  
                  <div>
                    <div className="flex justify-between items-end mb-6">
                        <div>
                            <span className="text-neutral-400 text-sm font-mono uppercase tracking-widest block mb-1">Destination</span>
                            <span className="text-3xl text-rose-400 font-bold">{targetYear}</span>
                        </div>
                        <div className="text-right">
                            <span className="text-neutral-500 text-xs uppercase tracking-wider block">Actuel</span>
                            <span className="text-neutral-300 font-mono">{year}</span>
                        </div>
                    </div>

                    {/* Slider controlling TARGET YEAR */}
                    <div className="mb-8 relative pt-6">
                        <input
                        type="range"
                        min="1900"
                        max="2025"
                        value={targetYear}
                        onChange={(e) => setTargetYear(parseInt(e.target.value))}
                        className="w-full h-2 bg-neutral-700 rounded-lg appearance-none cursor-pointer accent-rose-500 hover:accent-rose-400 focus:outline-none focus:ring-2 focus:ring-rose-500/50"
                        />
                        <div className="flex justify-between text-xs text-neutral-500 mt-2 font-mono">
                        <span>1900</span>
                        <span>1960</span>
                        <span>2025</span>
                        </div>
                        
                        {/* Tooltip */}
                        <div 
                            className="absolute -top-2 px-2 py-1 bg-rose-500 text-white text-xs rounded transform -translate-x-1/2 pointer-events-none transition-all duration-75"
                            style={{ left: `${((targetYear - 1900) / 125) * 100}%` }}
                        >
                            {targetYear}
                        </div>
                    </div>

                    {/* NOUVEAU: Description de l'époque CIBLE Éditable */}
                    <div className="mt-2 p-4 bg-black/30 rounded-lg border border-white/5">
                        <h3 className="text-sm font-semibold text-neutral-300 mb-2 flex items-center gap-2">
                            <Sparkles size={14} className="text-yellow-500"/> 
                            Ambiance {targetYear} ({eraDetails.name}) :
                        </h3>
                        <textarea
                            value={editableEraPrompt}
                            onChange={(e) => setEditableEraPrompt(e.target.value)}
                            rows="4"
                            disabled={isDeveloping}
                            className="w-full p-2 bg-neutral-700 text-white rounded-lg border border-neutral-600 focus:ring-rose-500 focus:border-rose-500 transition-all text-sm resize-none"
                            placeholder="Décrivez ici le style exact que l'IA doit appliquer..."
                        />
                        <p className="text-xs text-neutral-500 mt-2">Éditez pour affiner le style de l'époque avant de générer.</p>
                    </div>
                  </div>

                  <div className="space-y-4 mt-8">
                     {/* Upload Input */}
                     <input
                        type="file"
                        ref={fileInputRef}
                        onChange={handleImageUpload}
                        accept="image/*"
                        className="hidden"
                      />
                      
                      {!originalImageBase64 ? (
                        <button
                          onClick={() => fileInputRef.current?.click()}
                          className="w-full py-4 bg-neutral-100 text-neutral-900 rounded-xl font-bold hover:bg-white transition-all flex items-center justify-center gap-2 group shadow-lg shadow-white/5"
                        >
                          <Upload size={20} className="group-hover:-translate-y-1 transition-transform" />
                          Charger une photo
                        </button>
                      ) : (
                        <div className="space-y-3">
                            {/* BOUTON D'ACTION PRINCIPAL: Voyage dans le temps */}
                            <button
                                onClick={() => handleApplyTimeTravel(false)} // Pas une regénération forcée
                                disabled={year === targetYear || isDeveloping || !editableEraPrompt.trim()}
                                className={`
                                    w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-3 transition-all transform
                                    ${(year === targetYear || !editableEraPrompt.trim()) && !isDeveloping
                                        ? 'bg-neutral-700 text-neutral-500 cursor-not-allowed opacity-50' 
                                        : 'bg-gradient-to-r from-rose-500 to-orange-500 text-white shadow-lg shadow-rose-500/20 hover:scale-[1.02] hover:shadow-rose-500/40'
                                    }
                                    ${isDeveloping ? 'opacity-70 cursor-wait' : ''}
                                `}
                            >
                                {isDeveloping ? (
                                   <>
                                      <Sparkles size={20} className="animate-spin" />
                                      Transformation...
                                   </>
                                ) : year === targetYear ? (
                                    <span>Déjà en {year}</span>
                                ) : (
                                    <>
                                        <Sparkles size={20} />
                                        Développer en {targetYear}
                                    </>
                                )}
                            </button>

                            {/* Ligne de boutons secondaires */}
                            <div className="flex gap-3">
                                {/* Bouton Télécharger */}
                                <button
                                    onClick={handleDownload}
                                    disabled={!currentDisplayURL || isDeveloping}
                                    className="flex-1 py-3 bg-neutral-700 text-neutral-300 rounded-xl font-medium hover:bg-neutral-600 transition-colors text-sm flex items-center justify-center gap-1 disabled:opacity-50"
                                >
                                    <Download size={16} /> Télécharger
                                </button>
                                
                                {/* Nouveau bouton Regénérer */}
                                <button
                                    onClick={() => handleApplyTimeTravel(true)} // Regénération forcée
                                    disabled={!isTransformed || isDeveloping || !editableEraPrompt.trim()}
                                    className="flex-1 py-3 bg-neutral-700 text-neutral-300 rounded-xl font-medium hover:bg-neutral-600 transition-colors text-sm flex items-center justify-center gap-1 disabled:opacity-50"
                                    title="Créer une nouvelle interprétation de la photo pour l'année courante"
                                >
                                    <Wand2 size={16} /> Regénérer
                                </button>
                                
                                {/* Bouton Retour à l'original (si l'image est transformée) */}
                                {isTransformed && (
                                     <button
                                        onClick={handleReturnToOriginal} 
                                        disabled={isDeveloping}
                                        className="flex-1 py-3 bg-neutral-700 text-neutral-300 rounded-xl font-medium hover:bg-neutral-600 transition-colors text-sm flex items-center justify-center gap-1 disabled:opacity-50"
                                     >
                                        <History size={16} /> Original
                                     </button>
                                )}
                                
                                {/* Bouton Changer photo */}
                                 <button
                                    onClick={() => fileInputRef.current?.click()}
                                    disabled={isDeveloping}
                                    className={`
                                        ${!isTransformed ? 'flex-1' : 'w-auto px-4'}
                                        py-3 bg-neutral-700 text-neutral-300 rounded-xl font-medium hover:bg-neutral-600 transition-colors text-sm disabled:opacity-50
                                    `}
                                    >
                                    <Upload size={16} className="md:hidden" />
                                    <span className="hidden md:inline">Changer photo</span>
                                </button>
                            </div>
                            
                            {/* NOUVEAU: Générer Légende */}
                            <button
                                onClick={handleGenerateCaption}
                                disabled={isDeveloping || !editableEraPrompt.trim() || !currentDisplayURL}
                                className="w-full py-3 bg-pink-700 text-white rounded-xl font-semibold hover:bg-pink-600 transition-colors flex items-center justify-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-pink-700/20 mt-4"
                                title="Générer une légende poétique basée sur l'année et l'ambiance."
                            >
                                <Sparkles size={16} /> Générer une Légende d'Époque
                            </button>
                            
                            {/* Affichage de la légende */}
                            {generatedCaption && (
                                <div className="p-3 bg-neutral-700 rounded-lg border border-pink-500/50 text-xs text-neutral-300 italic whitespace-pre-wrap">
                                    {generatedCaption}
                                </div>
                            )}

                            {/* Zone de Prompt Personnalisé (Modification) */}
                            <div className="mt-6 pt-4 border-t border-neutral-700/50 space-y-2">
                                <label className="text-neutral-400 text-xs uppercase tracking-wider block">Modification Personnalisée (IA)</label>
                                <textarea
                                    value={customPrompt}
                                    onChange={(e) => setCustomPrompt(e.target.value)}
                                    placeholder="Ex: Ajouter un chapeau rouge, transformer l'arrière-plan en plage..."
                                    rows="2"
                                    disabled={isDeveloping || !currentDisplayURL}
                                    className="w-full p-2 bg-neutral-700 text-white rounded-lg border border-neutral-600 focus:ring-rose-500 focus:border-rose-500 transition-all text-sm resize-none disabled:opacity-50"
                                />
                                <button
                                    onClick={handleApplyCustomPrompt}
                                    disabled={!customPrompt.trim() || isDeveloping || !currentDisplayURL}
                                    className="w-full py-3 bg-neutral-600 text-white rounded-xl font-semibold hover:bg-neutral-500 transition-colors flex items-center justify-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-neutral-700/20"
                                >
                                    <Sparkles size={16} /> Appliquer le Prompt
                                </button>
                            </div>
                            
                            {/* Bouton Animer la Photo */}
                             <button
                                onClick={() => setShowAnimationModal(true)} 
                                disabled={isDeveloping || !currentDisplayURL}
                                className="w-full py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-500 transition-colors flex items-center justify-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-purple-700/20 mt-4"
                                title="Générer une image hautement cinématographique"
                            >
                                <Film size={16} /> Animer la Photo (Plan Vidéo)
                            </button>
                        </div>
                      )}
                  </div>

                </div>
              </div>
            </div>
          );
        }

        // Montage de l'application React
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>

</body></html>